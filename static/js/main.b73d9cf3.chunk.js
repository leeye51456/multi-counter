(this["webpackJsonpmulti-counter"]=this["webpackJsonpmulti-counter"]||[]).push([[0],{18:function(e,t,n){e.exports=n.p+"static/media/add.66ce4250.svg"},19:function(e,t,n){e.exports=n.p+"static/media/check.e294285e.svg"},20:function(e,t,n){e.exports=n.p+"static/media/check-all.e078e73b.svg"},21:function(e,t,n){e.exports=n.p+"static/media/clear.4217c5fb.svg"},22:function(e,t,n){e.exports=n.p+"static/media/close.b840e171.svg"},23:function(e,t,n){e.exports=n.p+"static/media/edit.539b3c38.svg"},24:function(e,t,n){e.exports=n.p+"static/media/menu.55f68494.svg"},25:function(e,t,n){e.exports=n.p+"static/media/remove.16793e81.svg"},26:function(e,t,n){e.exports=n.p+"static/media/reset.1cd9ed86.svg"},27:function(e,t,n){e.exports=n.p+"static/media/subtract.d788b81e.svg"},29:function(e,t,n){e.exports=n(46)},34:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),l=n.n(o),c=(n(34),n(9)),u=n(2),i=n(1),s=n(3),d=n(4),m=n(5),h=n(8),p=n.n(h),f=n(7),C=n.n(f),v=r.a.createContext(!1),E=n(6),g=function(e,t){return"indexOf"===t?!!e.indexOf:e.indexOf?-1!==e.indexOf(t):!!e[t]},b=navigator.platform.toLowerCase(),y=navigator.userAgent.toLowerCase(),O=navigator.appVersion.toLowerCase(),N=g(b,"mac")||g(y,"mac")||g(O,"mac"),S=["date","datetime-local","email","month","number","password","search","tel","text","time","url","week"],k={includes:g,initializeOrGetArrayProperty:function(e,t){return e[t]||(e[t]=[]),e[t]},isMacOs:N,isTextForm:function(e){var t=e.tagName.toUpperCase();return"INPUT"===t&&g(S,e.type.toLowerCase())||"TEXTAREA"===t}},w=function(){function e(t){var n=this,a=t.code,r=void 0===a?"":a,o=t.keyName,l=void 0===o?"":o,c=t.shiftKey,u=void 0!==c&&c;Object(s.a)(this,e),this.getJumbledIfDiffersFrom=function(e){return n.equals(e)?n:M},this.getStringToDisplay=function(){var e;return e=N?n.shiftKey?"\u21e7":"":n.shiftKey?"Shift+":"",n.code?"".concat(e).concat(I(n.code)):"".concat(e).concat(_(n.keyName))},this.equals=function(e){return n.shiftKey===e.shiftKey&&n.code===e.code&&n.keyName===e.keyName},this.toString=function(){var e=n.shiftKey?"Shift":"";return"".concat(e).concat(n.code||n.keyName)},this.code=r,this.keyName=l,this.shiftKey=u}return Object(E.a)(e,null,[{key:"isValidCode",value:function(e){return U(e)}},{key:"getNotShiftedFromCode",value:function(e){return I(e)}},{key:"isValidKey",value:function(e){return P(e)}},{key:"getNotShiftedFromKey",value:function(e){return _(e)}},{key:"NONE",get:function(){return D}},{key:"JUMBLED",get:function(){return M}},{key:"NO_CHANGE",get:function(){return A}}]),e}(),D=new w({keyName:"",code:"",shiftKey:!1}),M=new w(D),A=new w(D),x={Backquote:"`",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Digit0:"0",Minus:"-",Equal:"=",KeyQ:"Q",KeyW:"W",KeyE:"E",KeyR:"R",KeyT:"T",KeyY:"Y",KeyU:"U",KeyI:"I",KeyO:"O",KeyP:"P",BracketLeft:"[",BracketRight:"]",Backslash:"\\",KeyA:"A",KeyS:"S",KeyD:"D",KeyF:"F",KeyG:"G",KeyH:"H",KeyJ:"J",KeyK:"K",KeyL:"L",Semicolon:";",Quote:"'",KeyZ:"Z",KeyX:"X",KeyC:"C",KeyV:"V",KeyB:"B",KeyN:"N",KeyM:"M",Comma:",",Period:".",Slash:"/"},j=Object.keys(x),U=function(e){return g(j,e)},I=function(e){return x[e]||""},K={"`":"`","~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0","-":"-",_:"-","=":"=","+":"=","[":"[","{":"[","]":"]","}":"]","\\":"\\","|":"\\",";":";",":":";","'":"'",'"':"'",",":",","<":",",".":".",">":".","/":"/","?":"/"},T=Object.keys(K),P=function(e){return/^[A-Za-z]$/.test(e)||g(T,e)},_=function(e){return/[A-Za-z]/.test(e)?e.toUpperCase():/[`~!@#$%^&*(),./<>?;':"[\]\\{}|+_=-]/.test(e)?K[e]:e},R=w,B=function(){function e(t){var n=this;Object(s.a)(this,e),this.getDifferenceMarked=function(t){var a,r=new e(n),o=Object(u.a)(L);try{for(o.s();!(a=o.n()).done;){var l=a.value;r[l]=n[l].getJumbledIfDiffersFrom(t[l])}}catch(c){o.e(c)}finally{o.f()}return r},this.equals=function(e){var t=Object.keys(n),a=Object.keys(e);return t.length===a.length&&t.every((function(t){return n[t]===e[t]}))};var a,r=Object(u.a)(L);try{for(r.s();!(a=r.n()).done;){var o=a.value;t&&t[o]?this[o]=t[o]:this[o]=R.NONE}}catch(l){r.e(l)}finally{r.f()}}return Object(E.a)(e,null,[{key:"EMPTY",get:function(){return V}},{key:"SHORTCUT_NAMES",get:function(){return L}}]),e}(),L=["countUp","countDown"],V=new B,G=B,J=function(){function e(t){var n=this;Object(s.a)(this,e),this.getCorrectedValue=function(){return n.value<n.min?n.min:n.value>n.max?n.max:n.value},this.getCorrectedCounterData=function(){return new e(Object(i.a)({},n,{value:n.getCorrectedValue()}))},this.getComparisonObject=function(){var t,a={},r=Object(u.a)(H);try{for(r.s();!(t=r.n()).done;){var o=t.value;a[o]=n[o]}}catch(l){r.e(l)}finally{r.f()}return new e(a)},this.getJumbledIfDiffersFrom=function(t){var a,r=new e(n),o=Object(u.a)(H);try{for(o.s();!(a=o.n()).done;){var l=a.value;n[l]!==t[l]&&(r[l]="")}}catch(c){o.e(c)}finally{o.f()}return r};var a=Object(i.a)({},Ce.defaultProps,{},t),r=a.name,o=a.value,l=a.initial,c=a.min,d=a.max,m=a.step,h=a.checked,p=a.onChange,f=a.onEditClick,C=a.shortcuts;this.name=r,this.value=o,this.initial=l,this.min=c,this.max=d,this.step=m,this.checked=h,this.onChange=p,this.onEditClick=f,this.shortcuts=C||G.EMPTY}return Object(E.a)(e,null,[{key:"MANIPULATOR_PROPS",get:function(){return H}}]),e}(),H=["value","initial","min","max","step"],W=J,F={NO_OP:function(){},GET_COUNTED_UP:function(e){return new W(Object(i.a)({},e,{value:e.value+e.step})).getCorrectedCounterData()},GET_COUNTED_DOWN:function(e){return new W(Object(i.a)({},e,{value:e.value-e.step})).getCorrectedCounterData()}},q=function(){function e(t,n){Object(s.a)(this,e),this.target=t,this.execute=n}return Object(E.a)(e,null,[{key:"PRESETS",get:function(){return F}}]),e}(),z=n(18),X=n.n(z),Y=n(19),Z=n.n(Y),$=n(20),Q=n.n($),ee=n(21),te=n.n(ee),ne=n(22),ae=n.n(ne),re=n(23),oe=n.n(re),le=n(24),ce=n.n(le),ue=n(25),ie=n.n(ue),se=n(26),de=n.n(se),me=n(27),he=n.n(me),pe={add:X.a,check:Z.a,checkAll:Q.a,clear:te.a,close:ae.a,edit:oe.a,menu:ce.a,remove:ie.a,reset:de.a,subtract:he.a},fe=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).getCorrectValue=function(t){return t<e.props.min?t=e.props.min:t>e.props.max&&(t=e.props.max),t},e.callOnChangeByValue=function(t,n){t=e.getCorrectValue(t),e.props.value!==t&&e.props.onChange(Object(i.a)({},n,{value:t,name:e.props.name}))},e.countDown=function(){var t=e.props.value-e.props.step;e.callOnChangeByValue(t)},e.countUp=function(){var t=e.props.value+e.props.step;e.callOnChangeByValue(t)},e.handleCounterClick=function(t){e.context&&e.props.onChange({checked:!e.props.checked,name:e.props.name})},e.handleCheckboxChange=function(t){e.props.onChange({checked:t.target.checked,name:e.props.name})},e.handleEditClick=function(t){t.stopPropagation(),t.preventDefault(),e.props.onEditClick(e.props.name)},e.handleCountDownClick=function(t){t.preventDefault(),e.countDown()},e.handleCountUpClick=function(t){t.preventDefault(),e.countUp()},e.render=function(){var t=e.context,n={counter:C()("counter",{"counter-checked":e.props.checked}),normalCounterButton:C()("button-with-icon",{"force-hidden":t}),editCounterButton:C()("button-with-icon-text",{"force-hidden":!t})};return r.a.createElement("div",{className:n.counter,onClick:e.handleCounterClick},r.a.createElement("ul",null,r.a.createElement("li",{className:"counter-row"},r.a.createElement("label",{className:"counter-label"},e.props.name)),r.a.createElement("li",{className:"counter-row"},r.a.createElement("input",{type:"text",value:e.props.value,readOnly:!0,className:"counter-value"}),r.a.createElement("button",{type:"button",onClick:e.handleCountDownClick,className:n.normalCounterButton},r.a.createElement("img",{src:pe.subtract,alt:"Count down"})),r.a.createElement("button",{type:"button",onClick:e.handleCountUpClick,className:n.normalCounterButton},r.a.createElement("img",{src:pe.add,alt:"Count up"})),r.a.createElement("button",{type:"button",onClick:e.handleEditClick,className:n.editCounterButton},r.a.createElement("img",{src:pe.edit,alt:""}),r.a.createElement("span",null,"Edit")))))},e}return n}(r.a.Component);fe.contextType=v,fe.defaultProps={initial:0,value:0,min:0,max:Number.MAX_SAFE_INTEGER,step:1,name:"",checked:!1,onChange:q.PRESETS.NO_OP,onEditClick:q.PRESETS.NO_OP};var Ce=fe,ve=n(28),Ee=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleKeyDown=function(t){var n=t.key,a=t.shiftKey,r=t.nativeEvent.code;r?R.isValidCode(r)?e.props.onChange(new R({code:r,shiftKey:a})):e.props.onChange(R.NONE):R.isValidKey(n)?e.props.onChange(new R({keyName:n,shiftKey:a})):e.props.onChange(R.NONE)},e.getShortcutString=function(){var t=e.props.shortcut;return t===R.NONE?"(None)":t===R.JUMBLED?"(Multiple values)":t===R.NO_CHANGE?"(No change)":t.getStringToDisplay()},e.handleCancelClick=function(t){t.preventDefault(),e.props.onChange(R.NO_CHANGE)},e.handleRemoveClick=function(t){t.preventDefault(),e.props.onChange(R.NONE)},e.render=function(){return r.a.createElement("div",{className:"shortcut-capture"},r.a.createElement("input",{type:"text",value:e.getShortcutString(),onChange:q.PRESETS.NO_OP,onKeyDown:e.handleKeyDown,className:"shortcut-capture-input"}),r.a.createElement("button",{type:"button",onClick:e.handleCancelClick,className:"shortcut-capture-button"},r.a.createElement("img",{src:pe.reset,alt:"Cancel modifying this shortcut binding"})),r.a.createElement("button",{type:"button",onClick:e.handleRemoveClick,className:"shortcut-capture-button"},r.a.createElement("img",{src:pe.remove,alt:"Remove this shortcut binding"})))},e}return n}(r.a.Component);Ee.defaultProps={keyName:"",code:"",shiftKey:!1,shortcut:R.NO_CHANGE,onChange:q.PRESETS.NO_OP};var ge=Ee,be={name:"",initial:"0",min:"0",max:"".concat(Number.MAX_SAFE_INTEGER),step:"1",countUpShortcut:R.NONE,countDownShortcut:R.NONE},ye=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleModalAfterOpen=function(){a.setState(be)},a.handleNameChange=function(e){a.setState({name:e.target.value})},a.handleInitialChange=function(e){a.setState({initial:e.target.value})},a.handleMinChange=function(e){a.setState({min:e.target.value})},a.handleMaxChange=function(e){a.setState({max:e.target.value})},a.handleStepChange=function(e){a.setState({step:e.target.value})},a.handleCountUpShortcutChange=function(e){a.setState({countUpShortcut:e})},a.handleCountDownShortcutChange=function(e){a.setState({countDownShortcut:e})},a.handleSubmitClick=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.initial,o=t.min,l=t.max,c=t.step,u=[r,o,l,c].map((function(e){return Number.parseInt(e,10)})),i=Object(ve.a)(u,4);if([r=i[0],o=i[1],l=i[2],c=i[3]].map((function(e){return Number.isSafeInteger(e)})).includes(!1))window.alert("Initial value, minimum value, maximum value, and counter step should be safe integers.");else if(c<=0)window.alert("Counter step should be a positive integer.");else if(o>l)window.alert("Mininum value should be lesser than maximum value.");else if(""===n||a.props.existingNames.includes(n))window.alert("Name should not be empty or duplicated.");else{var s=a.state,d=s.countUpShortcut,m=s.countDownShortcut,h=new G({countUp:d,countDown:m});a.props.onSubmit({name:n,initial:r,min:o,max:l,step:c,shortcuts:h})}},a.handleCancelClick=function(e){e.preventDefault(),a.props.onCancel()},a.render=function(){return r.a.createElement(p.a,{isOpen:a.props.isOpen,onAfterOpen:a.handleModalAfterOpen,onRequestClose:a.props.onCancel,contentLabel:"Add New Counter",shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,className:"modal",overlayClassName:"modal-overlay"},r.a.createElement("h1",null,"Add New Counter"),r.a.createElement("hr",null),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",required:!0,value:a.state.name,onChange:a.handleNameChange})),r.a.createElement("li",null,r.a.createElement("label",null,"Initial value (Integer)"),r.a.createElement("input",{type:"number",inputMode:"numeric",pattern:"-?\\\\d*",value:a.state.initial,onChange:a.handleInitialChange})),r.a.createElement("li",null,r.a.createElement("label",null,"Minimum value (Integer)"),r.a.createElement("input",{type:"number",inputMode:"numeric",pattern:"-?\\\\d*",value:a.state.min,onChange:a.handleMinChange})),r.a.createElement("li",null,r.a.createElement("label",null,"Maximum value (Integer)"),r.a.createElement("input",{type:"number",inputMode:"numeric",pattern:"-?\\\\d*",value:a.state.max,onChange:a.handleMaxChange})),r.a.createElement("li",null,r.a.createElement("label",null,"Count step (Positive integer)"),r.a.createElement("input",{type:"number",inputMode:"numeric",pattern:"[1-9]\\\\d*",value:a.state.step,onChange:a.handleStepChange}))),r.a.createElement("hr",null),r.a.createElement("h2",null,"Shortcuts"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",null,"Count Up"),r.a.createElement(ge,{shortcut:a.state.countUpShortcut,onChange:a.handleCountUpShortcutChange})),r.a.createElement("li",null,r.a.createElement("label",null,"Count Down"),r.a.createElement(ge,{shortcut:a.state.countDownShortcut,onChange:a.handleCountDownShortcutChange}))),r.a.createElement("hr",null),r.a.createElement("ul",{className:"modal-actions"},r.a.createElement("li",null,r.a.createElement("button",{type:"reset",onClick:a.handleCancelClick,className:"action-button button-negative"},r.a.createElement("img",{src:pe.close,alt:"Cancel"}))),r.a.createElement("li",null,r.a.createElement("button",{type:"button",onClick:a.handleSubmitClick,className:"action-button button-positive"},r.a.createElement("img",{src:pe.check,alt:"Add"})))))},a.state=be,a}return n}(r.a.Component),Oe=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleModalAfterOpen=function(){a.props.names&&a.props.names.length?a.setState((function(e,t){for(var n=t.names.length,a=new W(t.counters[t.names[0]]),r=1;r<n;r+=1){var o,l=t.counters[t.names[r]],c=Object(u.a)(W.MANIPULATOR_PROPS);try{for(c.s();!(o=c.n()).done;){var i=o.value;a[i]!==l[i]&&(a[i]="")}}catch(C){c.e(C)}finally{c.f()}a.shortcuts=a.shortcuts.getDifferenceMarked(l.shortcuts)}var s=a.value,d=a.initial,m=a.min,h=a.max,p=a.step,f=a.shortcuts;return{value:s,initial:d,min:m,max:h,step:p,countUpShortcut:f.countUp,countDownShortcut:f.countDown}})):a.props.onCancel()},a.handleValueChange=function(e){a.setState({value:e.target.value})},a.handleInitialChange=function(e){a.setState({initial:e.target.value})},a.handleMinChange=function(e){a.setState({min:e.target.value})},a.handleMaxChange=function(e){a.setState({max:e.target.value})},a.handleStepChange=function(e){a.setState({step:e.target.value})},a.handleCountUpShortcutChange=function(e){a.setState({countUpShortcut:e})},a.handleCountDownShortcutChange=function(e){a.setState({countDownShortcut:e})},a.handleSubmitClick=function(e){e.preventDefault();var t,n=a.state,r=n.value,o=n.initial,l=n.min,c=n.max,s=n.step,d=n.countUpShortcut,m=n.countDownShortcut,h={value:r,initial:o,min:l,max:c,step:s,shortcuts:new G({countUp:d,countDown:m})},p=!0,f=Object(u.a)(W.MANIPULATOR_PROPS);try{for(f.s();!(t=f.n()).done;){var C=t.value;""===h[C]?delete h[C]:(h[C]=Number.parseInt(h[C],10),Number.isSafeInteger(h[C])||(p=!1))}}catch(v){f.e(v)}finally{f.f()}p&&(0===h.step||h.step&&h.step<0||a.props.onSubmit(Object(i.a)({names:a.props.names},h)))},a.handleCancelClick=function(e){e.preventDefault(),a.props.onCancel()},a.render=function(){return r.a.createElement(p.a,{isOpen:a.props.isOpen,onAfterOpen:a.handleModalAfterOpen,onRequestClose:a.props.onCancel,contentLabel:"Edit Counters",shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,className:"modal",overlayClassName:"modal-overlay"},r.a.createElement("h1",null,"Edit Counters"),r.a.createElement("hr",null),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",null,"Name"),r.a.createElement("p",{className:"modal-counter-names"},a.props.names.join(", "))),r.a.createElement("li",null,r.a.createElement("label",null,"Value (Integer)"),r.a.createElement("input",{type:"number",inputMode:"numeric",pattern:"-?\\\\d*",value:a.state.value,onChange:a.handleValueChange})),r.a.createElement("li",null,r.a.createElement("label",null,"Initial value (Integer)"),r.a.createElement("input",{type:"number",inputMode:"numeric",pattern:"-?\\\\d*",value:a.state.initial,onChange:a.handleInitialChange})),r.a.createElement("li",null,r.a.createElement("label",null,"Minimum value (Integer)"),r.a.createElement("input",{type:"number",inputMode:"numeric",pattern:"-?\\\\d*",value:a.state.min,onChange:a.handleMinChange})),r.a.createElement("li",null,r.a.createElement("label",null,"Maximum value (Integer)"),r.a.createElement("input",{type:"number",inputMode:"numeric",pattern:"-?\\\\d*",value:a.state.max,onChange:a.handleMaxChange})),r.a.createElement("li",null,r.a.createElement("label",null,"Count step (Positive integer)"),r.a.createElement("input",{type:"number",inputMode:"numeric",pattern:"[1-9]\\\\d*",value:a.state.step,onChange:a.handleStepChange}))),r.a.createElement("hr",null),r.a.createElement("h2",null,"Shortcuts"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",null,"Count Up"),r.a.createElement(ge,{shortcut:a.state.countUpShortcut,onChange:a.handleCountUpShortcutChange})),r.a.createElement("li",null,r.a.createElement("label",null,"Count Down"),r.a.createElement(ge,{shortcut:a.state.countDownShortcut,onChange:a.handleCountDownShortcutChange}))),r.a.createElement("hr",null),r.a.createElement("ul",{className:"modal-actions"},r.a.createElement("li",null,r.a.createElement("button",{type:"reset",onClick:a.handleCancelClick,className:"action-button button-negative"},r.a.createElement("img",{src:pe.close,alt:"Cancel"}))),r.a.createElement("li",null,r.a.createElement("button",{type:"button",onClick:a.handleSubmitClick,className:"action-button button-positive"},r.a.createElement("img",{src:pe.check,alt:"Apply"})))))},a.state={value:"0",initial:"0",min:"0",max:"".concat(Number.MAX_SAFE_INTEGER),step:"1",countUpShortcut:R.NONE,countDownShortcut:R.NONE},a}return n}(r.a.Component),Ne="counterOrder",Se="counter_",ke="__storage_test__",we=function(e){return Se+e},De=function(){try{return localStorage.setItem(ke,ke),localStorage.removeItem(ke),!0}catch(e){return!1}}(),Me=function(){if(!De)return null;Ue();return Ae(["Sample Counter"]),je(new W({name:"Sample Counter"})),!0},Ae=function(e){return De?(localStorage.setItem(Ne,JSON.stringify(e)),!0):null},xe=["name","value","initial","min","max","step","shortcuts"],je=function(e){if(!De)return null;var t,n={},a=Object(u.a)(xe);try{for(a.s();!(t=a.n()).done;){var r=t.value;n[r]=e[r]}}catch(o){a.e(o)}finally{a.f()}return localStorage.setItem(we(e.name),JSON.stringify(n)),!0},Ue=function(){return De?(localStorage.clear(),!0):null},Ie={available:De,initialize:Me,getCounterOrder:function e(t){if(!De)return null;var n=localStorage.getItem(Ne),a=JSON.parse(n);return a&&a.constructor===Array?a:t?null:(Me(),e(!0))},setCounterOrder:Ae,getCounterData:function(e){if(!De)return null;var t=localStorage.getItem(we(e)),n=JSON.parse(t);if(!n)return null;if(n.shortcuts){var a,r=Object(u.a)(G.SHORTCUT_NAMES);try{for(r.s();!(a=r.n()).done;){var o=a.value;n.shortcuts[o]=n.shortcuts[o]?new R(n.shortcuts[o]):R.NONE}}catch(l){r.e(l)}finally{r.f()}n.shortcuts=new G(n.shortcuts)}return new W(n)},setCounterData:je,removeCounterData:function(e){return De?(localStorage.removeItem(we(e)),!0):null},clear:Ue};p.a.setAppElement("#root");var Ke=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){document.addEventListener("keydown",a.handleDocumentKeyDown),a.loadCounters()},a.componentWillUnmount=function(){document.removeEventListener("keydown",a.handleDocumentKeyDown)},a.handleDocumentKeyDown=function(e){if(!(k.isTextForm(e.target)||a.state.isEditModeEnabled||a.state.modal)){var t=e.key,n=e.code,r=e.shiftKey,o=e.ctrlKey,l=e.altKey,c=e.metaKey;if(!(o||l||c||n&&k.includes(n.toLowerCase(),"shift")||k.includes(t.toLowerCase(),"shift"))){var u=String(new R({code:n,shiftKey:r,keyName:t})),s=a.state.counterActionsByShortcutId[u];if(s&&s.length){var d=s.map((function(e){return e.execute(Object(i.a)({},a.state.counters[e.target]))}));a.updateCounters(d)}}}},a.loadCounters=function(){var e,t=Object(u.a)(Ie.getCounterOrder());try{for(t.s();!(e=t.n()).done;){var n=e.value,r=Ie.getCounterData(n);r&&a.appendCounter(r)}}catch(o){t.e(o)}finally{t.f()}},a.getUpdatedCounterActions=function(e,t){var n=t.newCounterData,a=t.oldCounterData,r={countUp:q.PRESETS.GET_COUNTED_UP,countDown:q.PRESETS.GET_COUNTED_DOWN},o=a&&a.shortcuts,l=n.shortcuts;e=Object(i.a)({},e);var c,s=Object(u.a)(G.SHORTCUT_NAMES);try{var d=function(){var t=c.value,u=o&&String(o[t]),i=String(l[t]);if(u&&i&&u===i)return"continue";if(u&&l[t]!==R.JUMBLED&&l[t]!==R.NO_CHANGE){var s=e[u];e[u]=s.filter((function(e){return e.target!==a.name||e.execute!==r[t]})),0===e[u].length&&delete e[u]}if(i){var d=k.initializeOrGetArrayProperty(e,i).slice();d.push(new q(n.name,r[t])),e[i]=d}};for(s.s();!(c=s.n()).done;)d()}catch(m){s.e(m)}finally{s.f()}return e},a.getNewCounter=function(e){return r.a.createElement(Ce,Object.assign({},e,{key:e.name}))},a.appendCounter=function(e){a.setState((function(t){var n,r=e.name,o=new G(e.shortcuts),l=Object(u.a)(G.SHORTCUT_NAMES);try{for(l.s();!(n=l.n()).done;){var s=n.value;R.NONE.equals(o[s])&&(o[s]=R.NONE)}}catch(f){l.e(f)}finally{l.f()}e=new W(Object(i.a)({},e,{shortcuts:o,onChange:function(e){a.updateCounters([e])},onEditClick:a.handleSingleCounterEditClick}));var d=Object(i.a)({},t.counters,Object(c.a)({},r,e)),m=t.counterOrder.slice(),h=Object(i.a)({},t.counterIndexesByName,Object(c.a)({},r,m.length));m.push(r);var p=a.getUpdatedCounterActions(t.counterActionsByShortcutId,{newCounterData:e});return Ie.setCounterOrder(m),Ie.setCounterData(e),{counterOrder:m,counterIndexesByName:h,counters:d,counterActionsByShortcutId:p}}))},a.updateCounters=function(e){a.setState((function(t){var n,r=Object(i.a)({},t.counters),o=Object(i.a)({},t.counterActionsByShortcutId),l=Object(u.a)(e);try{for(l.s();!(n=l.n()).done;){var c=n.value,s=c.name;if("number"!==typeof t.counterIndexesByName[s])return;if(c.shortcuts){o=a.getUpdatedCounterActions(o,{newCounterData:c,oldCounterData:r[s]});var d,m={},h=Object(u.a)(G.SHORTCUT_NAMES);try{for(h.s();!(d=h.n()).done;){var p=d.value,f=c.shortcuts[p],C=String(f)||f===R.NONE;m[p]=C?f:r[s].shortcuts[p]}}catch(v){h.e(v)}finally{h.f()}c=new W(Object(i.a)({},r[s],{},c,{shortcuts:new G(m)}))}r[s]=Object(i.a)({},r[s],{},c),Ie.setCounterData(r[s])}}catch(v){l.e(v)}finally{l.f()}return{counters:r,counterActionsByShortcutId:o}}),a.updateCheckedCountersState)},a.updateCheckedCountersState=function(){a.setState((function(e){return{checkedCounters:e.counterOrder.filter((function(t){return e.counters[t].checked}))}}))},a.checkOrUncheckAll=function(e){a.setState((function(t){var n,a=Object(i.a)({},t.counters),r=Object(u.a)(t.counterOrder);try{for(r.s();!(n=r.n()).done;){var o=n.value;a[o].checked!==e&&(a[o]=Object(i.a)({},a[o],{checked:e}))}}catch(l){r.e(l)}finally{r.f()}return{counters:a}}),a.updateCheckedCountersState)},a.removeCheckedCounters=function(){0!==a.state.checkedCounters.length&&a.setState((function(e){var t=Object(i.a)({},e.counterIndexesByName),n=Object(i.a)({},e.counters),r=Object(i.a)({},e.counterActionsByShortcutId),o=0,l=e.counterOrder.filter((function(e,l){var c=n[e].checked;if(c){var u=new W(Object(i.a)({},n[e],{shortcuts:G.EMPTY}));r=a.getUpdatedCounterActions(r,{newCounterData:u,oldCounterData:n[e]}),delete t[e],delete n[e],Ie.removeCounterData(e),o+=1}else t[e]=l-o;return!c}));return Ie.setCounterOrder(l),{counterOrder:l,counterIndexesByName:t,counters:n,counterActionsByShortcutId:r,isEditModeEnabled:!1}}),a.updateCheckedCountersState)},a.openOrCloseModal=function(e,t){a.setState({modal:e?t:""})},a.isEveryCounterChecked=function(){return a.state.checkedCounters.length===a.state.counterOrder.length},a.handleResetClick=function(e){if(e.preventDefault(),0!==a.state.checkedCounters.length){var t=a.state.checkedCounters.map((function(e){return{name:e,checked:!1,value:a.state.counters[e].initial}}));a.updateCounters(t),a.setState({isEditModeEnabled:!1})}},a.handleRemoveClick=function(e){e.preventDefault(),a.removeCheckedCounters()},a.handleClearClick=function(e){e.preventDefault(),window.confirm("All counters will be removed if you click \u2018OK\u2019 button.")&&(Ie.initialize(),window.location.reload())},a.handleNewCounterClick=function(e){e.preventDefault(),a.openOrCloseModal(!0,"AddNewCounterModal")},a.handleNewCounterModalSubmit=function(e){var t=new W(Object(i.a)({},e,{value:e.initial}));a.appendCounter(t),a.openOrCloseModal(!1)},a.handleEditCountersClick=function(e){e.preventDefault(),a.state.checkedCounters.length>0&&a.openOrCloseModal(!0,"EditCountersModal")},a.handleEditCountersModalSubmit=function(e){var t,n=a.state.counters,r={},o=Object(u.a)(G.SHORTCUT_NAMES);try{for(o.s();!(t=o.n()).done;){var l=t.value;e.shortcuts[l]!==R.JUMBLED&&(r[l]=e.shortcuts[l])}}catch(s){o.e(s)}finally{o.f()}var c=e.names.map((function(t){var a=e.value,o=void 0===a?n[t].value:a,l=e.initial,c=void 0===l?n[t].initial:l,u=e.min,s=void 0===u?n[t].min:u,d=e.max,m=void 0===d?n[t].max:d,h=e.step,p=void 0===h?n[t].step:h,f=e.shortcuts,C=void 0===f?n[t].shortcuts:f;return{name:t,value:o,initial:c,min:s,max:m,step:p,shortcuts:new G(Object(i.a)({},C,{},r))}}));a.updateCounters(c),a.openOrCloseModal(!1),a.state.singleCounterToEdit||a.checkOrUncheckAll(!1),a.setState((function(e){return{singleCounterToEdit:null,isEditModeEnabled:!!e.singleCounterToEdit}}))},a.handleModalCancel=function(){a.openOrCloseModal(!1),a.setState({singleCounterToEdit:null})},a.handleEditCounterListClick=function(e){e.preventDefault(),a.checkOrUncheckAll(!1),a.setState((function(e){return{isEditModeEnabled:!e.isEditModeEnabled}}))},a.handleSelectAllClick=function(e){e.preventDefault(),a.checkOrUncheckAll(!a.isEveryCounterChecked())},a.handleSingleCounterEditClick=function(e){a.setState((function(t){return{singleCounterToEdit:t.counters[e]}}),(function(){a.openOrCloseModal(!0,"EditCountersModal")}))},a.render=function(){var e=a.state.isEditModeEnabled,t={headerItem:{normalOnly:C()("header-item",{"force-hidden":e}),editModeOnly:C()("header-item",{"force-hidden":!e})},addNewCounterButton:C()("button-add","button-positive",{invisible:e})},n=a.state.counterOrder.slice().map((function(e){return a.getNewCounter(a.state.counters[e])})),o=a.state.singleCounterToEdit,l={counters:o?Object(c.a)({},o.name,o):a.state.counters,names:o?[o.name]:a.state.checkedCounters};return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header-container"},r.a.createElement("header",{className:"header"},r.a.createElement("ul",{className:"header-item-group group-left"},r.a.createElement("li",{className:t.headerItem.normalOnly},r.a.createElement("h1",{className:"app-title"},"MultiCounter")),r.a.createElement("li",{className:t.headerItem.editModeOnly},r.a.createElement("button",{type:"button",onClick:a.handleSelectAllClick,className:"button-with-icon-text"},r.a.createElement("img",{src:pe.checkAll,alt:""}),r.a.createElement("span",null,"Select All"))),r.a.createElement("li",{className:t.headerItem.editModeOnly},r.a.createElement("button",{type:"button",onClick:a.handleEditCountersClick,className:"button-with-icon-text"},r.a.createElement("img",{src:pe.edit,alt:""}),r.a.createElement("span",null,"Edit"))),r.a.createElement("li",{className:t.headerItem.editModeOnly},r.a.createElement("button",{type:"button",onClick:a.handleResetClick,className:"button-with-icon-text button-negative"},r.a.createElement("img",{src:pe.reset,alt:""}),r.a.createElement("span",null,"Reset"))),r.a.createElement("li",{className:t.headerItem.editModeOnly},r.a.createElement("button",{type:"button",onClick:a.handleRemoveClick,className:"button-with-icon-text button-negative"},r.a.createElement("img",{src:pe.remove,alt:""}),r.a.createElement("span",null,"Remove"))),r.a.createElement("li",{className:t.headerItem.editModeOnly},r.a.createElement("button",{type:"button",onClick:a.handleClearClick,className:"button-with-icon-text button-negative"},r.a.createElement("img",{src:pe.clear,alt:""}),r.a.createElement("span",null,"Clear All")))),r.a.createElement("ul",{className:"header-item-group group-right"},r.a.createElement("li",{className:"header-item"},r.a.createElement("button",{type:"button",onClick:a.handleEditCounterListClick,className:"button-with-icon"},e?r.a.createElement("img",{src:pe.close,alt:"Exit Edit Mode"}):r.a.createElement("img",{src:pe.menu,alt:"Edit Counter List"})))))),r.a.createElement("div",{className:"main-container"},r.a.createElement("main",{className:"main"},r.a.createElement(v.Provider,{value:e},n),r.a.createElement("div",{className:"main-additional"},r.a.createElement("button",{type:"button",onClick:a.handleNewCounterClick,className:t.addNewCounterButton},r.a.createElement("img",{src:pe.add,alt:"Add New Counter"}))))),r.a.createElement(ye,{existingNames:a.state.counterOrder,isOpen:"AddNewCounterModal"===a.state.modal,onSubmit:a.handleNewCounterModalSubmit,onCancel:a.handleModalCancel}),r.a.createElement(Oe,{counters:l.counters,names:l.names,isOpen:"EditCountersModal"===a.state.modal,onSubmit:a.handleEditCountersModalSubmit,onCancel:a.handleModalCancel}))},a.state={counterOrder:[],counterIndexesByName:{},counters:{},counterActionsByShortcutId:{},checkedCounters:[],singleCounterToEdit:null,modal:"",isEditModeEnabled:!1},a}return n}(r.a.Component),Te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Pe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ke,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/multi-counter",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/multi-counter","/service-worker.js");Te?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Pe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Pe(t,e)}))}}()}},[[29,1,2]]]);
//# sourceMappingURL=main.b73d9cf3.chunk.js.map