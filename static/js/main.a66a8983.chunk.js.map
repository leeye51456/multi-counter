{"version":3,"sources":["icons/add.svg","icons/check.svg","icons/check-all.svg","icons/clear.svg","icons/close.svg","icons/edit.svg","icons/invert.svg","icons/language.svg","icons/menu.svg","icons/remove.svg","icons/reset.svg","icons/subtract.svg","i18n.js","contexts.js","utils.js","icons.js","counter.jsx","number-input.jsx","shortcut.js","shortcut-capture-form.jsx","shortcut-collection.js","add-new-counter-modal.jsx","counter-data.js","edit-counters-modal.jsx","local-storage-manager.js","languages-modal.jsx","counter-action.js","app.jsx","serviceWorker.js","index.js"],"names":["module","exports","resources","en","translation","ko","i18n","use","LanguageDetector","initReactI18next","init","fallbackLng","detection","order","lookupQuerystring","caches","interpolation","escapeValue","document","documentElement","lang","language","GlobalEditModeContext","React","createContext","NO_OP","includes","obj","target","indexOf","platformLower","navigator","platform","toLowerCase","userAgentLower","userAgent","appVersionLower","appVersion","isMacOs","textInputTypes","insertCommas","integerValue","toString","replace","numbersWithCommas","MAX_SAFE_INTEGER","Number","MIN_SAFE_INTEGER","utils","initializeOrGetArrayProperty","key","isTextForm","element","tagName","toUpperCase","type","icons","add","check","checkAll","clear","close","edit","invert","menu","remove","reset","subtract","Counter","getCorrectValue","newValue","props","min","max","callOnChangeByValue","defaults","value","onChange","name","countDown","step","countUp","handleCounterClick","event","context","checked","handleCheckboxChange","handleEditClick","stopPropagation","preventDefault","onEditClick","handleCountDownClick","handleCountUpClick","render","isGlobalEditModeEnabled","t","classes","counter","classNames","normalCounterButton","editCounterButton","className","onClick","src","alt","width","height","Component","contextType","defaultProps","initial","withTranslation","numberInputProps","NumberInput","componentDidMount","validity","inputRef","current","handleInputChange","handleInvertClick","onInvert","handleResetClick","onReset","inputProps","propName","hasOwnProperty","ref","inputMode","createRef","withRef","Shortcut","code","keyName","shiftKey","getJumbledIfDiffersFrom","comparisonTarget","equals","JUMBLED","getStringToDisplay","shift","getNotShiftedFromCode","getNotShiftedFromKey","other","prefix","this","isValidCode","isValidKey","NONE","NO_CHANGE","notShiftedKeysFromCode","validCodes","Object","keys","notShiftedKeys","validKeys","test","ShortcutCaptureForm","handleKeyDown","nativeEvent","getShortcutString","shortcut","handleCancelClick","handleRemoveClick","onKeyDown","ShortcutCollection","initialShortcutCollection","getDifferenceMarked","result","shortcutNames","field","thisFields","otherFields","length","every","thisField","EMPTY","defaultState","countUpShortcut","countDownShortcut","AddNewCounterModal","bindNumberInputEventHandler","names","types","sentenceCasedName","substring","sentenceCasedType","primitiveFunctionName","bind","handleModalAfterOpen","existingNames","setState","namePattern","map","escapeStringRegexp","join","onCancel","handleNameChange","handleNumberInputChange","stateName","handleNumberInputInvert","state","isNaN","parseInt","handleCountUpShortcutChange","handleCountDownShortcutChange","handleSubmitClick","rejectionReasons","nameRef","valid","push","initialRef","minRef","maxRef","stepRef","window","alert","shortcuts","onSubmit","modalTitle","isOpen","onAfterOpen","onRequestClose","contentLabel","shouldCloseOnOverlayClick","shouldCloseOnEsc","overlayClassName","required","pattern","handleInitialChange","handleInitialInvert","handleMinChange","handleMinInvert","handleMaxChange","handleMaxInvert","handleStepChange","CounterData","param","getCorrectedValue","getCorrectedCounterData","getComparisonObject","resultBase","manipulatorProps","prop","defaultCounter","EditCountersModal","getActualLowerBound","rangeLowerBound","getActualUpperBound","rangeUpperBound","getActualMaxOfMin","Math","filter","minPropUpperBound","getActualMinOfMax","maxPropLowerBound","checkedCount","commonCounter","counters","index","currentCounter","counterProp","handleNumberInputReset","valueRef","submitArgument","isAllSafeInteger","isSafeInteger","console","error","counterNames","valueMin","valueMax","maxOfMin","minOfMax","valueMinWithCommas","valueMaxWithCommas","valueConstraintString","handleValueChange","handleValueInvert","handleValueReset","handleInitialReset","handleMinReset","handleMaxReset","handleStepReset","itemNames","getCounterItemName","available","localStorage","setItem","removeItem","e","initialize","setCounterOrder","DEFAULT","setCounterData","getCounterOrder","preventMoreTrial","counterOrderString","getItem","counterOrder","JSON","parse","constructor","Array","stringify","storedCounterProperties","counterData","storedCounterData","property","setLanguage","localStorageManager","getCounterData","counterDataString","shortcutName","removeCounterData","LanguagesModal","handleLanguageButtonClick","hasAttribute","getAttribute","location","reload","languageListElements","languages","data-lang","english","native","actionPresets","GET_COUNTED_UP","GET_COUNTED_DOWN","CounterAction","action","execute","ReactModal","setAppElement","App","addEventListener","handleDocumentKeyDown","loadCounters","componentWillUnmount","removeEventListener","isEditModeEnabled","modal","ctrlKey","altKey","metaKey","shortcutId","String","counterActions","counterActionsByShortcutId","updateCounters","appendCounter","getUpdatedCounterActions","newCounterData","oldCounterData","shortcutActions","oldShortcuts","newShortcuts","oldShortcutId","newShortcutId","counterActionsForShortcut","slice","getNewCounter","correctedShortcuts","handleSingleCounterEditClick","counterIndexesByName","updatedCounters","providedShortcut","hasChange","updateCheckedCountersState","checkedCounters","checkOrUncheckAll","removeCheckedCounters","removed","openOrCloseModal","willOpen","isEveryCounterChecked","countersToUpdate","handleClearClick","message","confirm","handleNewCounterClick","handleNewCounterModalSubmit","newCounter","handleEditCountersClick","handleEditCountersModalSubmit","overwritingShortcuts","newCounters","singleCounterToEdit","handleLanguagesClick","handleModalCancel","handleEditCounterListClick","handleSelectAllClick","headerItem","normalOnly","editModeOnly","counterComponents","editCountersModalProps","Provider","disabled","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","catch","ReactDOM","StrictMode","getElementById","URL","process","href","origin","fetch","headers","response","contentType","get","status","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.a66a8983.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/add.1e6a0152.svg\";","module.exports = __webpack_public_path__ + \"static/media/check.e294285e.svg\";","module.exports = __webpack_public_path__ + \"static/media/check-all.e078e73b.svg\";","module.exports = __webpack_public_path__ + \"static/media/clear.4217c5fb.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.b840e171.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit.539b3c38.svg\";","module.exports = __webpack_public_path__ + \"static/media/invert.f2ea96f5.svg\";","module.exports = __webpack_public_path__ + \"static/media/language.f23f94e5.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu.55f68494.svg\";","module.exports = __webpack_public_path__ + \"static/media/remove.16793e81.svg\";","module.exports = __webpack_public_path__ + \"static/media/reset.1cd9ed86.svg\";","module.exports = __webpack_public_path__ + \"static/media/subtract.d788b81e.svg\";","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport translationEn from './locales/en.json';\nimport translationKo from './locales/ko.json';\n\nconst languageDetectorOptions = {\n  order: ['querystring', 'localStorage', 'navigator'],\n  lookupQuerystring: 'lang',\n  caches: ['localStorage'],\n};\n\nconst resources = {\n  en: {\n    translation: translationEn,\n  },\n  ko: {\n    translation: translationKo,\n  },\n};\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init(\n    {\n      resources,\n\n      fallbackLng: 'en',\n      detection: languageDetectorOptions,\n\n      interpolation: {\n        escapeValue: false,\n      },\n    },\n    () => {\n      document.documentElement.lang = i18n.language || 'en';\n    },\n  );\n\nexport default i18n;\n","import React from 'react';\n\nexport const GlobalEditModeContext = React.createContext(false);\n","export const NO_OP = () => {};\n\n\nexport const includes = (obj, target) => {\n  if (target === 'indexOf') {\n    return !!obj.indexOf;\n  }\n  if (obj.indexOf) {\n    return obj.indexOf(target) !== -1;\n  }\n  return !!obj[target];\n};\n\n\nexport const initializeOrGetArrayProperty = (obj, key) => {\n  if (!obj[key]) {\n    obj[key] = [];\n  }\n  return obj[key];\n};\n\n\nconst platformLower = navigator.platform.toLowerCase();\nconst userAgentLower = navigator.userAgent.toLowerCase();\nconst appVersionLower = navigator.appVersion.toLowerCase();\n\nexport const isMacOs = (\n  includes(platformLower, 'mac')\n  || includes(userAgentLower, 'mac')\n  || includes(appVersionLower, 'mac')\n);\n\n\nconst textInputTypes = [\n  'date', 'datetime-local', 'email', 'month', 'number', 'password', 'search', 'tel', 'text', 'time', 'url', 'week'\n];\n\nexport const isTextForm = (element) => {\n  const tagName = element.tagName.toUpperCase();\n  return (\n    (tagName === 'INPUT' && includes(textInputTypes, element.type.toLowerCase()))\n    || tagName === 'TEXTAREA'\n  );\n};\n\n\nexport const insertCommas = (integerValue) => {\n  return integerValue.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n};\nexport const numbersWithCommas = {\n  MAX_SAFE_INTEGER: insertCommas(Number.MAX_SAFE_INTEGER),\n  MIN_SAFE_INTEGER: insertCommas(Number.MIN_SAFE_INTEGER),\n};\n\n\nconst utils = {\n  NO_OP,\n  includes,\n  initializeOrGetArrayProperty,\n  isMacOs,\n  isTextForm,\n  insertCommas, numbersWithCommas,\n};\nexport default utils;\n","import add from './icons/add.svg';\nimport check from './icons/check.svg';\nimport checkAll from './icons/check-all.svg';\nimport clear from './icons/clear.svg';\nimport close from './icons/close.svg';\nimport edit from './icons/edit.svg';\nimport invert from './icons/invert.svg';\nimport language from './icons/language.svg';\nimport menu from './icons/menu.svg';\nimport remove from './icons/remove.svg';\nimport reset from './icons/reset.svg';\nimport subtract from './icons/subtract.svg';\n\nconst icons = { add, check, checkAll, clear, close, edit, invert, language, menu, remove, reset, subtract };\nexport default icons;\n","import React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { GlobalEditModeContext } from './contexts';\nimport { NO_OP } from './utils';\nimport icons from './icons';\n\nexport class Counter extends React.Component {\n  getCorrectValue = (newValue) => {\n    if (newValue < this.props.min) {\n      newValue = this.props.min;\n    } else if (newValue > this.props.max) {\n      newValue = this.props.max;\n    }\n    return newValue;\n  }\n\n  callOnChangeByValue = (newValue, defaults) => {\n    newValue = this.getCorrectValue(newValue);\n    if (this.props.value !== newValue) {\n      this.props.onChange({\n        ...defaults,\n        value: newValue,\n        name: this.props.name,\n      });\n    }\n  }\n\n  countDown = () => {\n    const newValue = this.props.value - this.props.step;\n    this.callOnChangeByValue(newValue);\n  }\n\n  countUp = () => {\n    const newValue = this.props.value + this.props.step;\n    this.callOnChangeByValue(newValue);\n  }\n\n  handleCounterClick = (event) => {\n    const isGlobalEditModeEnabled = this.context;\n    if (isGlobalEditModeEnabled) {\n      this.props.onChange({\n        checked: !this.props.checked,\n        name: this.props.name,\n      });\n    }\n  }\n\n  handleCheckboxChange = (event) => {\n    this.props.onChange({\n      checked: event.target.checked,\n      name: this.props.name,\n    });\n  }\n\n  handleEditClick = (event) => {\n    event.stopPropagation();\n    event.preventDefault();\n    this.props.onEditClick(this.props.name);\n  }\n\n  handleCountDownClick = (event) => {\n    event.preventDefault();\n    this.countDown();\n  }\n\n  handleCountUpClick = (event) => {\n    event.preventDefault();\n    this.countUp();\n  }\n\n  render = () => {\n    const isGlobalEditModeEnabled = this.context;\n    const { t } = this.props;\n\n    const classes = {\n      counter: classNames('counter', { 'counter-checked': this.props.checked }),\n      normalCounterButton: classNames('button-with-icon', { 'force-hidden': isGlobalEditModeEnabled }),\n      editCounterButton: classNames('button-with-icon-text', { 'force-hidden': !isGlobalEditModeEnabled }),\n    };\n\n    return (\n      <div\n        className={classes.counter}\n        onClick={this.handleCounterClick}\n      >\n        <ul>\n          <li className=\"counter-row\">\n            <span className=\"counter-label\">\n              {this.props.name}\n            </span>\n          </li>\n\n          <li className=\"counter-row\">\n            <span className=\"counter-value\">\n              {this.props.value}\n            </span>\n\n            <button\n              type=\"button\"\n              onClick={this.handleCountDownClick}\n              className={classes.normalCounterButton}\n            >\n              <img\n                src={icons.subtract}\n                alt={t('counter.count-down')}\n                width={24}\n                height={24}\n              />\n            </button>\n\n            <button\n              type=\"button\"\n              onClick={this.handleCountUpClick}\n              className={classes.normalCounterButton}\n            >\n              <img\n                src={icons.add}\n                alt={t('counter.count-up')}\n                width={24}\n                height={24}\n              />\n            </button>\n\n            <button\n              type=\"button\"\n              onClick={this.handleEditClick}\n              className={classes.editCounterButton}\n            >\n              <img\n                src={icons.edit}\n                alt=\"\"\n                width={24}\n                height={24}\n              />\n              <span>\n                {t('counter.edit')}\n              </span>\n            </button>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nCounter.contextType = GlobalEditModeContext;\n\nCounter.propTypes = {\n  initial: PropTypes.number,\n  value: PropTypes.number,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  step: PropTypes.number,\n  name: PropTypes.string,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n  onEditClick: PropTypes.func,\n};\n\nCounter.defaultProps = {\n  initial: 0,\n  value: 0,\n  min: 0,\n  max: Number.MAX_SAFE_INTEGER,\n  step: 1,\n  name: '',\n  checked: false,\n  onChange: NO_OP,\n  onEditClick: NO_OP,\n};\n\nexport default withTranslation()(Counter);\n","import React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { NO_OP } from './utils';\nimport icons from './icons';\n\n\nconst numberInputProps = [\n  'autocomplete', 'autofocus', 'disabled', 'form', 'list', 'max', 'min',\n  'name', 'placeholder', 'readonly', 'required', 'step', 'value'\n];\n\nclass NumberInput extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.inputRef = React.createRef();\n\n    this.validity = {};\n  }\n\n  componentDidMount = () => {\n    this.validity = this.inputRef.current.validity;\n  }\n\n  handleInputChange = (event) => {\n    this.validity = event.target.validity;\n    this.props.onChange(event);\n  }\n\n  handleInvertClick = (event) => {\n    event.preventDefault();\n    if (this.props.value !== '') {\n      this.props.onInvert();\n    }\n  }\n\n  handleResetClick = (event) => {\n    event.preventDefault();\n    this.props.onReset();\n  }\n\n  render = () => {\n    const { t } = this.props;\n\n    const inputProps = {};\n    for (const propName of numberInputProps) {\n      if (this.props.hasOwnProperty(propName)) {\n        inputProps[propName] = this.props[propName];\n      }\n    }\n\n    return (\n      <div className=\"extended-input\">\n        <input\n          { ...inputProps }\n          ref={this.inputRef}\n          type=\"number\"\n          inputMode=\"numeric\"\n          onChange={this.handleInputChange}\n        />\n        <button\n          type=\"button\"\n          onClick={this.handleInvertClick}\n          className={classNames({ 'force-hidden': this.props.onInvert === NO_OP })}\n        >\n          <img\n            src={icons.invert}\n            alt={t('number-input.invert')}\n            width={24}\n            height={24}\n          />\n        </button>\n        <button\n          type=\"button\"\n          onClick={this.handleResetClick}\n          className={classNames({ 'force-hidden': this.props.onReset === NO_OP })}\n        >\n          <img\n            src={icons.reset}\n            alt={t('number-input.reset')}\n            width={24}\n            height={24}\n          />\n        </button>\n      </div>\n    );\n  }\n}\n\nNumberInput.propTypes = {\n  onChange: PropTypes.func,\n  onInvert: PropTypes.func,\n  onReset: PropTypes.func,\n};\n\nNumberInput.defaultProps = {\n  min: Number.MIN_SAFE_INTEGER,\n  max: Number.MAX_SAFE_INTEGER,\n  step: 1,\n  value: '',\n  onChange: NO_OP,\n  onInvert: NO_OP,\n  onReset: NO_OP,\n};\n\nexport default withTranslation([], { withRef: true })(NumberInput);\n","import { includes, isMacOs } from './utils';\n\n\nexport class Shortcut {\n  constructor({ code = '', keyName = '', shiftKey = false }) {\n    this.code = code;\n    this.keyName = keyName;\n    this.shiftKey = shiftKey;\n  }\n\n  static get NONE() {\n    return NONE;\n  }\n  static get JUMBLED() {\n    return JUMBLED;\n  }\n  static get NO_CHANGE() {\n    return NO_CHANGE;\n  }\n\n  static isValidCode(code) {\n    return isValidCode(code);\n  }\n  static getNotShiftedFromCode(code) {\n    return getNotShiftedFromCode(code);\n  }\n\n  static isValidKey(keyName) {\n    return isValidKey(keyName);\n  }\n  static getNotShiftedFromKey(keyName) {\n    return getNotShiftedFromKey(keyName);\n  }\n\n  getJumbledIfDiffersFrom = (comparisonTarget) => {\n    return this.equals(comparisonTarget) ? this : JUMBLED;\n  }\n\n  getStringToDisplay = () => {\n    let shift;\n    if (isMacOs) {\n      shift = this.shiftKey ? '⇧' : '';\n    } else {\n      shift = this.shiftKey ? 'Shift+' : '';\n    }\n\n    if (this.code) {\n      return `${shift}${getNotShiftedFromCode(this.code)}`;\n    }\n    return `${shift}${getNotShiftedFromKey(this.keyName)}`;\n  }\n\n  equals = (other) => {\n    return (\n      this.shiftKey === other.shiftKey\n      && this.code === other.code\n      && this.keyName === other.keyName\n    );\n  }\n\n  toString = () => {\n    const prefix = this.shiftKey ? 'Shift' : '';\n    return `${prefix}${this.code || this.keyName}`;\n  }\n}\n\n\nconst NONE = new Shortcut({ keyName: '', code: '', shiftKey: false });\nconst JUMBLED = new Shortcut(NONE);\nconst NO_CHANGE = new Shortcut(NONE);\n\n\nconst notShiftedKeysFromCode = {\n  'Backquote': '`', 'Digit1': '1', 'Digit2': '2', 'Digit3': '3', 'Digit4': '4', 'Digit5': '5', 'Digit6': '6',\n  'Digit7': '7', 'Digit8': '8', 'Digit9': '9', 'Digit0': '0', 'Minus': '-', 'Equal': '=',\n  'KeyQ': 'Q', 'KeyW': 'W', 'KeyE': 'E', 'KeyR': 'R', 'KeyT': 'T', 'KeyY': 'Y', 'KeyU': 'U', 'KeyI': 'I', 'KeyO': 'O',\n  'KeyP': 'P', 'BracketLeft': '[', 'BracketRight': ']', 'Backslash': '\\\\',\n  'KeyA': 'A', 'KeyS': 'S', 'KeyD': 'D', 'KeyF': 'F', 'KeyG': 'G', 'KeyH': 'H', 'KeyJ': 'J', 'KeyK': 'K', 'KeyL': 'L',\n  'Semicolon': ';', 'Quote': \"'\",\n  'KeyZ': 'Z', 'KeyX': 'X', 'KeyC': 'C', 'KeyV': 'V', 'KeyB': 'B', 'KeyN': 'N', 'KeyM': 'M', 'Comma': ',',\n  'Period': '.', 'Slash': '/',\n};\nconst validCodes = Object.keys(notShiftedKeysFromCode);\n\nconst isValidCode = (code) => {\n  return includes(validCodes, code);\n};\n\nconst getNotShiftedFromCode = (code) => {\n  const notShifted = notShiftedKeysFromCode[code];\n  return notShifted || '';\n};\n\n\nconst notShiftedKeys = {\n  '`': '`', '~': '`',\n  '!': '1', '@': '2', '#': '3', '$': '4', '%': '5', '^': '6', '&': '7', '*': '8', '(': '9', ')': '0',\n  '-': '-', '_': '-', '=': '=', '+': '=',\n  '[': '[', '{': '[', ']': ']', '}': ']', '\\\\': '\\\\', '|': '\\\\',\n  ';': ';', ':': ';', \"'\": \"'\", '\"': \"'\",\n  ',': ',', '<': ',', '.': '.', '>': '.', '/': '/', '?': '/',\n};\nconst validKeys = Object.keys(notShiftedKeys);\n\nconst isValidKey = (key) => {\n  return /^[A-Za-z]$/.test(key) || includes(validKeys, key);\n};\n\nconst getNotShiftedFromKey = (key) => {\n  if (/[A-Za-z]/.test(key)) {\n    return key.toUpperCase();\n  } else if (!/[`~!@#$%^&*(),./<>?;':\"[\\]\\\\{}|+_=-]/.test(key)) {\n    return key;\n  }\n  return notShiftedKeys[key];\n};\n\n\nexport default Shortcut;\n","import React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport Shortcut from './shortcut';\nimport { NO_OP } from './utils';\nimport icons from './icons';\n\nclass ShortcutCaptureForm extends React.Component {\n  handleKeyDown = (event) => {\n    const { key: keyName, shiftKey } = event;\n    const { code } = event.nativeEvent;\n\n    if (code) {\n      if (Shortcut.isValidCode(code)) {\n        this.props.onChange(new Shortcut({ code, shiftKey }));\n      } else {\n        this.props.onChange(Shortcut.NONE);\n      }\n\n    } else {\n      if (Shortcut.isValidKey(keyName)) {\n        this.props.onChange(new Shortcut({ keyName, shiftKey }));\n      } else {\n        this.props.onChange(Shortcut.NONE);\n      }\n    }\n  }\n\n  getShortcutString = () => {\n    const { t, shortcut } = this.props;\n    if (shortcut === Shortcut.NONE) {\n      return `(${t('shortcut-capture-form.shortcut.none')})`;\n    } else if (shortcut === Shortcut.JUMBLED) {\n      return `(${t('shortcut-capture-form.shortcut.multiple')})`;\n    } else if (shortcut === Shortcut.NO_CHANGE) {\n      return `(${t('shortcut-capture-form.shortcut.no-change')})`;\n    }\n    return shortcut.getStringToDisplay();\n  }\n\n  handleCancelClick = (event) => {\n    event.preventDefault();\n    this.props.onChange(Shortcut.NO_CHANGE);\n  }\n\n  handleRemoveClick = (event) => {\n    event.preventDefault();\n    this.props.onChange(Shortcut.NONE);\n  }\n\n  render = () => {\n    const { t } = this.props;\n\n    return (\n      <div className=\"extended-input\">\n        <input\n          type=\"text\"\n          value={this.getShortcutString()}\n          onChange={NO_OP}\n          onKeyDown={this.handleKeyDown}\n        />\n        <button\n          type=\"button\"\n          onClick={this.handleCancelClick}\n        >\n          <img\n            src={icons.reset}\n            alt={t('shortcut-capture-form.cancel')}\n            width={24}\n            height={24}\n          />\n        </button>\n        <button\n          type=\"button\"\n          onClick={this.handleRemoveClick}\n        >\n          <img\n            src={icons.remove}\n            alt={t('shortcut-capture-form.remove')}\n            width={24}\n            height={24}\n          />\n        </button>\n      </div>\n    );\n  }\n}\n\nShortcutCaptureForm.propTypes = {\n  onChange: PropTypes.func,\n}\n\nShortcutCaptureForm.defaultProps = {\n  keyName: '',\n  code: '',\n  shiftKey: false,\n  shortcut: Shortcut.NO_CHANGE,\n  onChange: NO_OP,\n};\n\nexport default withTranslation()(ShortcutCaptureForm);\n","import Shortcut from './shortcut';\n\nexport class ShortcutCollection {\n  constructor(initialShortcutCollection) {\n    for (const field of shortcutNames) {\n      if (initialShortcutCollection && initialShortcutCollection[field]) {\n        this[field] = initialShortcutCollection[field];\n      } else {\n        this[field] = Shortcut.NONE;\n      }\n    }\n  }\n\n  static get EMPTY() {\n    return EMPTY;\n  }\n\n  static get shortcutNames() {\n    return shortcutNames;\n  }\n\n  getDifferenceMarked = (comparisonTarget) => {\n    const result = new ShortcutCollection(this);\n    for (const field of shortcutNames) {\n      result[field] = this[field].getJumbledIfDiffersFrom(comparisonTarget[field]);\n    }\n    return result;\n  }\n\n  equals = (other) => {\n    const thisFields = Object.keys(this);\n    const otherFields = Object.keys(other);\n    return (\n      thisFields.length === otherFields.length\n      && thisFields.every((thisField) => this[thisField] === other[thisField])\n    );\n  }\n}\n\nconst shortcutNames = ['countUp', 'countDown'];\nconst EMPTY = new ShortcutCollection();\n\nexport default ShortcutCollection;\n","import React from 'react';\nimport ReactModal from 'react-modal';\nimport { withTranslation } from 'react-i18next';\nimport escapeStringRegexp from 'escape-string-regexp';\nimport NumberInput from './number-input';\nimport ShortcutCaptureForm from './shortcut-capture-form';\nimport Shortcut from './shortcut';\nimport ShortcutCollection from './shortcut-collection';\nimport { insertCommas, numbersWithCommas } from './utils';\nimport icons from './icons';\n\nconst defaultState = {\n  name: '',\n  initial: '0',\n  min: '0',\n  max: `${Number.MAX_SAFE_INTEGER}`,\n  step: '1',\n  countUpShortcut: Shortcut.NONE,\n  countDownShortcut: Shortcut.NONE,\n};\n\nclass AddNewCounterModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.bindNumberInputEventHandler(['initial', 'min', 'max'], ['change', 'invert']);\n    this.bindNumberInputEventHandler(['step'], ['change']);\n\n    this.nameRef = React.createRef();\n    this.initialRef = React.createRef();\n    this.minRef = React.createRef();\n    this.maxRef = React.createRef();\n    this.stepRef = React.createRef();\n\n    this.state = defaultState;\n  }\n\n  bindNumberInputEventHandler = (names, types) => {\n    for (const name of names) {\n      const sentenceCasedName = name[0].toUpperCase() + name.substring(1);\n      for (const type of types) {\n        const sentenceCasedType = type[0].toUpperCase() + type.substring(1);\n        const primitiveFunctionName = `handleNumberInput${sentenceCasedType}`;\n        if (this[primitiveFunctionName]) {\n          this[`handle${sentenceCasedName}${sentenceCasedType}`] = this[primitiveFunctionName].bind(this, name);\n        }\n      }\n    }\n  }\n\n  handleModalAfterOpen = () => {\n    if (!this.props.existingNames) {\n      this.props.onCancel();\n      return;\n    }\n\n    this.setState({\n      ...defaultState,\n      namePattern: `^(?!(${this.props.existingNames.map((value) => escapeStringRegexp(value)).join('|')})$).+$`,\n    });\n  }\n\n  handleNameChange = (event) => {\n    this.setState({\n      name: event.target.value,\n    });\n  }\n\n  handleNumberInputChange = (stateName, event) => {\n    this.setState({ [stateName]: event.target.value });\n  }\n  handleNumberInputInvert = (stateName) => {\n    this.setState((state) => {\n      if (!isNaN(parseInt(state[stateName], 10))) {\n        return { [stateName]: -state[stateName] };\n      }\n    });\n  }\n\n  handleCountUpShortcutChange = (shortcut) => {\n    this.setState({\n      countUpShortcut: shortcut,\n    });\n  }\n\n  handleCountDownShortcutChange = (shortcut) => {\n    this.setState({\n      countDownShortcut: shortcut,\n    });\n  }\n\n  handleSubmitClick = (event) => {\n    event.preventDefault();\n\n    const { t } = this.props;\n    const rejectionReasons = [t('modal.rejection.notice')];\n    if (!this.nameRef.current.validity.valid) {\n      rejectionReasons.push(t('modal.rejection.name'));\n    }\n    const rangeValidity = (\n      this.initialRef.current.validity.valid\n      && this.minRef.current.validity.valid\n      && this.maxRef.current.validity.valid\n    );\n    if (!rangeValidity) {\n      rejectionReasons.push(t('modal.rejection.range'));\n    }\n    if (!this.stepRef.current.validity.valid) {\n      rejectionReasons.push(t('modal.rejection.step'));\n    }\n\n    if (rejectionReasons.length > 1) {\n      window.alert(rejectionReasons.join('\\n- '));\n      return;\n    }\n\n    let {name, initial, min, max, step} = this.state;\n    [initial, min, max, step] = [initial, min, max, step].map((value) => Number.parseInt(value, 10));\n    const { countUpShortcut: countUp, countDownShortcut: countDown } = this.state;\n    const shortcuts = new ShortcutCollection({ countUp, countDown });\n\n    this.props.onSubmit({ name, initial, min, max, step, shortcuts });\n  }\n\n  handleCancelClick = (event) => {\n    event.preventDefault();\n    this.props.onCancel();\n  }\n\n  render = () => {\n    const { t } = this.props;\n    const modalTitle = t('modal.title.add-new-counter');\n\n    return (\n      <ReactModal\n        isOpen={this.props.isOpen}\n        onAfterOpen={this.handleModalAfterOpen}\n        onRequestClose={this.props.onCancel}\n        contentLabel={modalTitle}\n        shouldCloseOnOverlayClick={true}\n        shouldCloseOnEsc={true}\n        className=\"modal\"\n        overlayClassName=\"modal-overlay\"\n      >\n        <h1>\n          {modalTitle}\n        </h1>\n\n        <hr />\n\n        <ul>\n          <li>\n            <label>\n              {t('modal.name')}\n            </label>\n            <input\n              ref={this.nameRef}\n              type=\"text\"\n              required={true}\n              pattern={this.state.namePattern}\n              value={this.state.name}\n              onChange={this.handleNameChange}\n            />\n          </li>\n          <li>\n            <label>\n              {t('modal.initial')} ({t('modal.integer')})\n            </label>\n            <NumberInput\n              ref={this.initialRef}\n              required={true}\n              min={this.state.min}\n              max={this.state.max}\n              step={1}\n              value={this.state.initial}\n              onChange={this.handleInitialChange}\n              onInvert={this.handleInitialInvert}\n            />\n            <p className=\"modal-input-constraint\">\n              {insertCommas(this.state.min)} ... {insertCommas(this.state.max)}\n            </p>\n          </li>\n          <li>\n            <label>\n              {t('modal.min')} ({t('modal.integer')})\n            </label>\n            <NumberInput\n              ref={this.minRef}\n              required={true}\n              min={Number.MIN_SAFE_INTEGER}\n              max={this.state.initial}\n              step={1}\n              value={this.state.min}\n              onChange={this.handleMinChange}\n              onInvert={this.handleMinInvert}\n            />\n            <p className=\"modal-input-constraint\">\n              {numbersWithCommas.MIN_SAFE_INTEGER} ... {insertCommas(this.state.initial)}\n            </p>\n          </li>\n          <li>\n            <label>\n              {t('modal.max')} ({t('modal.integer')})\n            </label>\n            <NumberInput\n              ref={this.maxRef}\n              required={true}\n              min={this.state.initial}\n              max={Number.MAX_SAFE_INTEGER}\n              step={1}\n              value={this.state.max}\n              onChange={this.handleMaxChange}\n              onInvert={this.handleMaxInvert}\n            />\n            <p className=\"modal-input-constraint\">\n              {insertCommas(this.state.initial)} ... {numbersWithCommas.MAX_SAFE_INTEGER}\n            </p>\n          </li>\n          <li>\n            <label>\n              {t('modal.step')} ({t('modal.positive-integer')})\n            </label>\n            <NumberInput\n              ref={this.stepRef}\n              required={true}\n              min={1}\n              max={Number.MAX_SAFE_INTEGER}\n              step={1}\n              value={this.state.step}\n              onChange={this.handleStepChange}\n            />\n            <p className=\"modal-input-constraint\">\n              1 ... {numbersWithCommas.MAX_SAFE_INTEGER}\n            </p>\n          </li>\n        </ul>\n\n        <hr />\n\n        <h2>\n          {t('modal.shortcuts')}\n        </h2>\n        <ul>\n          <li>\n            <label>\n              {t('modal.count-up')}\n            </label>\n            <ShortcutCaptureForm\n              shortcut={this.state.countUpShortcut}\n              onChange={this.handleCountUpShortcutChange}\n            />\n          </li>\n          <li>\n            <label>\n              {t('modal.count-down')}\n            </label>\n            <ShortcutCaptureForm\n              shortcut={this.state.countDownShortcut}\n              onChange={this.handleCountDownShortcutChange}\n            />\n          </li>\n        </ul>\n\n        <hr />\n\n        <ul className=\"modal-actions\">\n          <li>\n            <button\n              type=\"reset\"\n              onClick={this.handleCancelClick}\n              className=\"action-button button-negative\"\n            >\n              <img\n                src={icons.close}\n                alt={t('modal.cancel')}\n                width={24}\n                height={24}\n              />\n            </button>\n          </li>\n          <li>\n            <button\n              type=\"button\"\n              onClick={this.handleSubmitClick}\n              className=\"action-button button-positive\"\n            >\n              <img\n                src={icons.check}\n                alt={t('modal.apply')}\n                width={24}\n                height={24}\n              />\n            </button>\n          </li>\n        </ul>\n\n      </ReactModal>\n    );\n  }\n}\n\nexport default withTranslation([], { withRef: true })(AddNewCounterModal);\n","import Counter from './counter';\nimport ShortcutCollection from './shortcut-collection';\n\nexport class CounterData {\n  constructor(param) {\n    const { name, value, initial, min, max, step, checked, onChange, onEditClick, shortcuts } = {\n      ...Counter.defaultProps,\n      ...param,\n    };\n    this.name = name;\n    this.value = value;\n    this.initial = initial;\n    this.min = min;\n    this.max = max;\n    this.step = step;\n    this.checked = checked;\n    this.onChange = onChange;\n    this.onEditClick = onEditClick;\n    this.shortcuts = shortcuts ? shortcuts : ShortcutCollection.EMPTY;\n  }\n\n  static get DEFAULT() {\n    return defaultCounter;\n  }\n\n  static get manipulatorProps() {\n    return manipulatorProps;\n  }\n\n  getCorrectedValue = () => {\n    if (this.value < this.min) {\n      return this.min;\n    } else if (this.value > this.max) {\n      return this.max;\n    }\n    return this.value;\n  }\n\n  getCorrectedCounterData = () => {\n    return new CounterData({\n      ...this,\n      value: this.getCorrectedValue(),\n    });\n  }\n\n  getComparisonObject = () => {\n    const resultBase = {};\n    for (const prop of manipulatorProps) {\n      resultBase[prop] = this[prop];\n    }\n    return new CounterData(resultBase);\n  }\n\n  getJumbledIfDiffersFrom = (other) => {\n    const result = new CounterData(this);\n    for (const prop of manipulatorProps) {\n      if (this[prop] !== other[prop]) {\n        result[prop] = '';\n      }\n    }\n    return result;\n  }\n}\n\nconst defaultCounter = new CounterData({\n  name: 'Sample Counter',\n  value: 0,\n  initial: 0,\n  min: 0,\n  max: Number.MAX_SAFE_INTEGER,\n  step: 1,\n});\n\nconst manipulatorProps = ['value', 'initial', 'min', 'max', 'step'];\n\nexport default CounterData;\n","import React from 'react';\nimport ReactModal from 'react-modal';\nimport { withTranslation } from 'react-i18next';\nimport ShortcutCaptureForm from './shortcut-capture-form';\nimport CounterData from './counter-data';\nimport NumberInput from './number-input';\nimport Shortcut from './shortcut';\nimport ShortcutCollection from './shortcut-collection';\nimport { insertCommas, numbersWithCommas } from './utils';\nimport icons from './icons';\n\nclass EditCountersModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.bindNumberInputEventHandler(['value', 'initial', 'min', 'max'], ['change', 'invert', 'reset']);\n    this.bindNumberInputEventHandler(['step'], ['change', 'reset']);\n\n    this.valueRef = React.createRef();\n    this.initialRef = React.createRef();\n    this.minRef = React.createRef();\n    this.maxRef = React.createRef();\n    this.stepRef = React.createRef();\n\n    this.state = {\n      value: '0',\n      initial: '0',\n      min: '0',\n      max: `${Number.MAX_SAFE_INTEGER}`,\n      step: '1',\n      defaults: {\n        minPropUpperBound: Number.MAX_SAFE_INTEGER,\n        maxPropLowerBound: Number.MIN_SAFE_INTEGER,\n        rangeLowerBound: Number.MIN_SAFE_INTEGER,\n        rangeUpperBound: Number.MAX_SAFE_INTEGER,\n      },\n      countUpShortcut: Shortcut.NONE,\n      countDownShortcut: Shortcut.NONE,\n    };\n  }\n\n  bindNumberInputEventHandler = (names, types) => {\n    for (const name of names) {\n      const sentenceCasedName = name[0].toUpperCase() + name.substring(1);\n      for (const type of types) {\n        const sentenceCasedType = type[0].toUpperCase() + type.substring(1);\n        const primitiveFunctionName = `handleNumberInput${sentenceCasedType}`;\n        if (this[primitiveFunctionName]) {\n          this[`handle${sentenceCasedName}${sentenceCasedType}`] = this[primitiveFunctionName].bind(this, name);\n        }\n      }\n    }\n  }\n\n  getActualLowerBound = (state) => {\n    return state.min === '' ? state.defaults.rangeLowerBound : state.min;\n  }\n  getActualUpperBound = (state) => {\n    return state.max === '' ? state.defaults.rangeUpperBound : state.max;\n  }\n  getActualMaxOfMin = (state) => {\n    return Math.min(\n      ...[state.max].filter((value) => value !== ''),\n      state.initial !== '' || state.value !== ''\n        ? Math.min(state.initial, state.value)\n        : state.defaults.minPropUpperBound\n    );\n  }\n  getActualMinOfMax = (state) => {\n    return Math.max(\n      ...[state.min].filter((value) => value !== ''),\n      state.initial !== '' || state.value !== ''\n        ? Math.max(state.initial, state.value)\n        : state.defaults.maxPropLowerBound\n    );\n  }\n\n  handleModalAfterOpen = () => {\n    if (!this.props.names || !this.props.names.length) {\n      this.props.onCancel();\n      return;\n    }\n\n    this.setState((state, props) => {\n      const checkedCount = props.names.length;\n      const commonCounter = new CounterData(props.counters[props.names[0]]);\n      let minPropUpperBound = Math.min(Number.MAX_SAFE_INTEGER, commonCounter.initial, commonCounter.value);\n      let maxPropLowerBound = Math.max(Number.MIN_SAFE_INTEGER, commonCounter.initial, commonCounter.value);\n      let rangeLowerBound = commonCounter.min;\n      let rangeUpperBound = commonCounter.max;\n      for (let index = 1; index < checkedCount; index += 1) {\n        const currentCounter = props.counters[props.names[index]];\n        minPropUpperBound = Math.min(minPropUpperBound, currentCounter.initial, currentCounter.value);\n        maxPropLowerBound = Math.max(maxPropLowerBound, currentCounter.initial, currentCounter.value);\n        rangeLowerBound = Math.max(rangeLowerBound, currentCounter.min);\n        rangeUpperBound = Math.min(rangeUpperBound, currentCounter.max);\n        for (const counterProp of CounterData.manipulatorProps) {\n          if (commonCounter[counterProp] !== currentCounter[counterProp]) {\n            commonCounter[counterProp] = '';\n          }\n        }\n        commonCounter.shortcuts = commonCounter.shortcuts.getDifferenceMarked(currentCounter.shortcuts);\n      }\n\n      const { value, initial, min, max, step, shortcuts } = commonCounter;\n      return {\n        value, initial, min, max, step,\n        defaults: { minPropUpperBound, maxPropLowerBound, rangeLowerBound, rangeUpperBound },\n        countUpShortcut: shortcuts.countUp,\n        countDownShortcut: shortcuts.countDown,\n      };\n    });\n  }\n\n  handleNumberInputChange = (stateName, event) => {\n    this.setState({ [stateName]: event.target.value });\n  }\n  handleNumberInputInvert = (stateName) => {\n    this.setState((state) => {\n      if (!isNaN(parseInt(state[stateName], 10))) {\n        return { [stateName]: -state[stateName] };\n      }\n    });\n  }\n  handleNumberInputReset = (stateName) => {\n    this.setState({ [stateName]: '' });\n  }\n\n  handleCountUpShortcutChange = (shortcut) => {\n    this.setState({\n      countUpShortcut: shortcut,\n    });\n  }\n\n  handleCountDownShortcutChange = (shortcut) => {\n    this.setState({\n      countDownShortcut: shortcut,\n    });\n  }\n\n  handleSubmitClick = (event) => {\n    event.preventDefault();\n\n    const { t } = this.props;\n    const rejectionReasons = [t('modal.rejection.notice')];\n    if (!this.valueRef.current.validity.valid) {\n      rejectionReasons.push(t('modal.rejection.value'));\n    }\n    if (!this.initialRef.current.validity.valid) {\n      rejectionReasons.push(t('modal.rejection.initial'));\n    }\n    if (!this.minRef.current.validity.valid) {\n      rejectionReasons.push(t('modal.rejection.min'));\n    }\n    if (!this.maxRef.current.validity.valid) {\n      rejectionReasons.push(t('modal.rejection.max'));\n    }\n    if (!this.stepRef.current.validity.valid) {\n      rejectionReasons.push(t('modal.rejection.step'));\n    }\n\n    if (rejectionReasons.length > 1) {\n      window.alert(rejectionReasons.join('\\n- '));\n      return;\n    }\n\n    const { value, initial, min, max, step, countUpShortcut, countDownShortcut } = this.state;\n    const submitArgument = {\n      value, initial, min, max, step,\n      shortcuts: new ShortcutCollection({\n        countUp: countUpShortcut,\n        countDown: countDownShortcut,\n      }),\n    };\n\n    let isAllSafeInteger = true;\n    for (const counterProp of CounterData.manipulatorProps) {\n      if (submitArgument[counterProp] === '') {\n        delete submitArgument[counterProp];\n      } else {\n        submitArgument[counterProp] = Number.parseInt(submitArgument[counterProp], 10);\n        if (!Number.isSafeInteger(submitArgument[counterProp])) {\n          isAllSafeInteger = false;\n        }\n      }\n    }\n\n    if (!isAllSafeInteger) {\n      console.error('Something wrong!');\n      return;\n    }\n\n    this.props.onSubmit({ names: this.props.names, ...submitArgument });\n  }\n\n  handleCancelClick = (event) => {\n    event.preventDefault();\n    this.props.onCancel();\n  }\n\n  render = () => {\n    const { t } = this.props;\n\n    const counterNames = this.props.names.map((name) => (\n      <li key={name}>\n        {name}\n      </li>\n    ));\n\n    const valueMin = this.getActualLowerBound(this.state);\n    const valueMax = this.getActualUpperBound(this.state);\n    const maxOfMin = this.getActualMaxOfMin(this.state);\n    const minOfMax = this.getActualMinOfMax(this.state);\n\n    const valueMinWithCommas = insertCommas(valueMin);\n    const valueMaxWithCommas = insertCommas(valueMax);\n\n    const modalTitle = t('modal.title.edit-counters');\n    const valueConstraintString = (\n      valueMin <= valueMax\n      ? `${valueMinWithCommas} ... ${valueMaxWithCommas}`\n      : t('modal.unchangeable')\n    );\n\n    return (\n      <ReactModal\n        isOpen={this.props.isOpen}\n        onAfterOpen={this.handleModalAfterOpen}\n        onRequestClose={this.props.onCancel}\n        contentLabel={modalTitle}\n        shouldCloseOnOverlayClick={true}\n        shouldCloseOnEsc={true}\n        className=\"modal\"\n        overlayClassName=\"modal-overlay\"\n      >\n        <h1>\n          {modalTitle}\n        </h1>\n\n        <hr />\n\n        <ul>\n          <li>\n            <label>\n              {t('modal.name')}\n            </label>\n            <ul className=\"modal-counter-names\">\n              {counterNames}\n            </ul>\n          </li>\n          <li>\n            <label>\n              {t('modal.value')} ({t('modal.integer')})\n            </label>\n            <NumberInput\n              ref={this.valueRef}\n              min={valueMin}\n              max={valueMax}\n              step={1}\n              value={this.state.value}\n              onChange={this.handleValueChange}\n              onInvert={this.handleValueInvert}\n              onReset={this.handleValueReset}\n            />\n            <p className=\"modal-input-constraint\">\n              {valueConstraintString}\n            </p>\n          </li>\n          <li>\n            <label>\n              {t('modal.initial')} ({t('modal.integer')})\n            </label>\n            <NumberInput\n              ref={this.initialRef}\n              min={valueMin}\n              max={valueMax}\n              step={1}\n              value={this.state.initial}\n              onChange={this.handleInitialChange}\n              onInvert={this.handleInitialInvert}\n              onReset={this.handleInitialReset}\n            />\n            <p className=\"modal-input-constraint\">\n              {valueConstraintString}\n            </p>\n          </li>\n          <li>\n            <label>\n              {t('modal.min')} ({t('modal.integer')})\n            </label>\n            <NumberInput\n              ref={this.minRef}\n              min={Number.MIN_SAFE_INTEGER}\n              max={maxOfMin}\n              step={1}\n              value={this.state.min}\n              onChange={this.handleMinChange}\n              onInvert={this.handleMinInvert}\n              onReset={this.handleMinReset}\n            />\n            <p className=\"modal-input-constraint\">\n              {numbersWithCommas.MIN_SAFE_INTEGER} ... {insertCommas(maxOfMin)}\n            </p>\n          </li>\n          <li>\n            <label>\n              {t('modal.max')} ({t('modal.integer')})\n            </label>\n            <NumberInput\n              ref={this.maxRef}\n              min={minOfMax}\n              max={Number.MAX_SAFE_INTEGER}\n              step={1}\n              value={this.state.max}\n              onChange={this.handleMaxChange}\n              onInvert={this.handleMaxInvert}\n              onReset={this.handleMaxReset}\n            />\n            <p className=\"modal-input-constraint\">\n              {insertCommas(minOfMax)} ... {numbersWithCommas.MAX_SAFE_INTEGER}\n            </p>\n          </li>\n          <li>\n            <label>\n              {t('modal.step')} ({t('modal.positive-integer')})\n            </label>\n            <NumberInput\n              ref={this.stepRef}\n              min={1}\n              max={Number.MAX_SAFE_INTEGER}\n              step={1}\n              value={this.state.step}\n              onChange={this.handleStepChange}\n              onReset={this.handleStepReset}\n            />\n            <p className=\"modal-input-constraint\">\n              1 ... {numbersWithCommas.MAX_SAFE_INTEGER}\n            </p>\n          </li>\n        </ul>\n\n        <hr />\n\n        <h2>\n          {t('modal.shortcuts')}\n        </h2>\n        <ul>\n          <li>\n            <label>\n              {t('modal.count-up')}\n            </label>\n            <ShortcutCaptureForm\n              shortcut={this.state.countUpShortcut}\n              onChange={this.handleCountUpShortcutChange}\n            />\n          </li>\n          <li>\n            <label>\n              {t('modal.count-down')}\n            </label>\n            <ShortcutCaptureForm\n              shortcut={this.state.countDownShortcut}\n              onChange={this.handleCountDownShortcutChange}\n            />\n          </li>\n        </ul>\n\n        <hr />\n\n        <ul className=\"modal-actions\">\n          <li>\n            <button\n              type=\"reset\"\n              onClick={this.handleCancelClick}\n              className=\"action-button button-negative\"\n            >\n              <img\n                src={icons.close}\n                alt={t('modal.cancel')}\n                width={24}\n                height={24}\n              />\n            </button>\n          </li>\n          <li>\n            <button\n              type=\"button\"\n              onClick={this.handleSubmitClick}\n              className=\"action-button button-positive\"\n            >\n              <img\n                src={icons.check}\n                alt={t('modal.apply')}\n                width={24}\n                height={24}\n              />\n            </button>\n          </li>\n        </ul>\n\n      </ReactModal>\n    );\n  }\n}\n\nexport default withTranslation([], { withRef: true })(EditCountersModal);\n","import CounterData from './counter-data';\nimport Shortcut from './shortcut';\nimport ShortcutCollection from './shortcut-collection';\n\n\nconst itemNames = {\n  COUNTER_ORDER: 'counterOrder',\n  COUNTER_PREFIX: 'counter_',\n  _STORAGE_TEST: '__storage_test__',\n};\n\n\nconst getCounterItemName = (name) => {\n  return itemNames.COUNTER_PREFIX + name;\n};\n\n\nexport const available = (() => {\n  try {\n    localStorage.setItem(itemNames._STORAGE_TEST, itemNames._STORAGE_TEST);\n    localStorage.removeItem(itemNames._STORAGE_TEST);\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\n\nexport const initialize = () => {\n  if (!available) {\n    return null;\n  }\n\n  clear();\n  setCounterOrder([CounterData.DEFAULT.name]);\n  setCounterData(CounterData.DEFAULT);\n  return true;\n};\n\n\nexport const getCounterOrder = (preventMoreTrial) => {\n  if (!available) {\n    return null;\n  }\n\n  const counterOrderString = localStorage.getItem(itemNames.COUNTER_ORDER);\n  const counterOrder = JSON.parse(counterOrderString);\n\n  if (counterOrder && counterOrder.constructor === Array) {\n    return counterOrder;\n  }\n\n  if (preventMoreTrial) {\n    return null;\n  }\n  initialize();\n  return getCounterOrder(true);\n};\n\nexport const setCounterOrder = (counterOrder) => {\n  if (!available) {\n    return null;\n  }\n\n  localStorage.setItem(itemNames.COUNTER_ORDER, JSON.stringify(counterOrder));\n  return true;\n};\n\n\nexport const getCounterData = (name) => {\n  if (!available) {\n    return null;\n  }\n\n  const counterDataString = localStorage.getItem(getCounterItemName(name));\n  const counterData = JSON.parse(counterDataString);\n  if (!counterData) {\n    return null;\n  }\n\n  if (counterData.shortcuts) {\n    for (const shortcutName of ShortcutCollection.shortcutNames) {\n      counterData.shortcuts[shortcutName] = (\n        counterData.shortcuts[shortcutName]\n        ? new Shortcut(counterData.shortcuts[shortcutName])\n        : Shortcut.NONE\n      );\n    }\n    counterData.shortcuts = new ShortcutCollection(counterData.shortcuts);\n  }\n\n  return new CounterData(counterData);\n};\n\nconst storedCounterProperties = ['name', 'value', 'initial', 'min', 'max', 'step', 'shortcuts'];\n\nexport const setCounterData = (counterData) => {\n  if (!available) {\n    return null;\n  }\n\n  const storedCounterData = {};\n  for (const property of storedCounterProperties) {\n    storedCounterData[property] = counterData[property];\n  }\n\n  localStorage.setItem(getCounterItemName(counterData.name), JSON.stringify(storedCounterData));\n  return true;\n};\n\nexport const setLanguage = (language) => {\n  if (!available) {\n    return null;\n  }\n\n  localStorage.setItem('i18nextLng', language);\n  return true;\n};\n\n\nexport const removeCounterData = (name) => {\n  if (!available) {\n    return null;\n  }\n\n  localStorage.removeItem(getCounterItemName(name));\n  return true;\n};\n\n\nexport const clear = () => {\n  if (!available) {\n    return null;\n  }\n\n  const counterOrder = getCounterOrder(true);\n  if (counterOrder !== null) {\n    for (const name of counterOrder) {\n      localStorage.removeItem(getCounterItemName(name));\n    }\n  }\n  localStorage.removeItem(itemNames.COUNTER_ORDER);\n\n  return true;\n};\n\n\nconst localStorageManager = {\n  available,\n  initialize,\n  getCounterOrder, setCounterOrder,\n  getCounterData, setCounterData, removeCounterData,\n  setLanguage,\n  clear,\n};\nexport default localStorageManager;\n","import React from 'react';\nimport ReactModal from 'react-modal';\nimport { withTranslation } from 'react-i18next';\nimport { setLanguage } from './local-storage-manager';\nimport languages from './locales/supported.json';\nimport icons from './icons';\n\nclass LanguagesModal extends React.Component {\n  handleLanguageButtonClick = (event) => {\n    event.preventDefault();\n\n    if (event.target.hasAttribute('data-lang')) {\n      setLanguage(event.target.getAttribute('data-lang'));\n      this.props.onCancel();\n      window.location.reload();\n    } else {\n      window.alert(this.props.t('modal.languages-error'));\n      this.props.onCancel();\n    }\n  }\n\n  handleCancelClick = (event) => {\n    event.preventDefault();\n    this.props.onCancel();\n  }\n\n  render = () => {\n    const { t } = this.props;\n    const modalTitle = t('modal.title.languages');\n\n    const languageListElements = languages.map((lang) => (\n      <li\n        key={lang.code}\n        className=\"language-list\"\n      >\n        <button\n          type=\"button\"\n          data-lang={lang.code}\n          onClick={this.handleLanguageButtonClick}\n          className=\"language-button\"\n        >\n          {\n            lang.name.english === lang.name.native\n              ? lang.name.english\n              : `${lang.name.english} (${lang.name.native})`\n          }\n        </button>\n      </li>\n    ));\n\n    return (\n      <ReactModal\n        isOpen={this.props.isOpen}\n        onRequestClose={this.props.onCancel}\n        contentLabel={modalTitle}\n        shouldCloseOnOverlayClick={true}\n        shouldCloseOnEsc={true}\n        className=\"modal\"\n        overlayClassName=\"modal-overlay\"\n      >\n        <h1>\n          {modalTitle}\n        </h1>\n\n        <hr />\n\n        <ul>\n          {languageListElements}\n        </ul>\n\n        <hr />\n\n        <ul className=\"modal-actions\">\n          <li>\n            <button\n              type=\"button\"\n              onClick={this.handleCancelClick}\n              className=\"action-button button-negative\"\n            >\n              <img\n                src={icons.close}\n                alt={t('modal.cancel')}\n                width={24}\n                height={24}\n              />\n            </button>\n          </li>\n        </ul>\n\n      </ReactModal>\n    );\n  }\n}\n\nexport default withTranslation()(LanguagesModal);\n","import CounterData from './counter-data';\n\nconst actionPresets = {\n  GET_COUNTED_UP: (counterData) => (\n    new CounterData({ ...counterData, value: counterData.value + counterData.step })\n      .getCorrectedCounterData()\n  ),\n  GET_COUNTED_DOWN: (counterData) => (\n    new CounterData({ ...counterData, value: counterData.value - counterData.step })\n      .getCorrectedCounterData()\n  ),\n};\n\nexport class CounterAction {\n  constructor(target, action) {\n    this.target = target;\n    this.execute = action;\n  }\n\n  static get actionPresets() {\n    return actionPresets;\n  }\n}\n\nexport default CounterAction;\n","import React from 'react';\nimport ReactModal from 'react-modal';\nimport { withTranslation } from 'react-i18next';\nimport classNames from 'classnames';\nimport Counter from './counter';\nimport AddNewCounterModal from './add-new-counter-modal';\nimport EditCountersModal from './edit-counters-modal';\nimport LanguagesModal from './languages-modal';\nimport { GlobalEditModeContext } from './contexts';\nimport CounterAction from './counter-action';\nimport CounterData from './counter-data';\nimport Shortcut from './shortcut';\nimport ShortcutCollection from './shortcut-collection';\nimport localStorageManager from './local-storage-manager';\nimport icons from './icons';\nimport utils from './utils';\n\nReactModal.setAppElement('#root');\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      counterOrder: [],\n      counterIndexesByName: {},\n      counters: {},\n      counterActionsByShortcutId: {},\n      checkedCounters: [],\n      singleCounterToEdit: null,\n      modal: '',\n      isEditModeEnabled: false,\n    };\n  }\n\n  componentDidMount = () => {\n    document.addEventListener('keydown', this.handleDocumentKeyDown);\n\n    this.loadCounters();\n  }\n\n  componentWillUnmount = () => {\n    document.removeEventListener('keydown', this.handleDocumentKeyDown);\n  }\n\n  handleDocumentKeyDown = (nativeEvent) => {\n    if (utils.isTextForm(nativeEvent.target) || this.state.isEditModeEnabled || this.state.modal) {\n      return;\n    }\n\n    const { key, code, shiftKey, ctrlKey, altKey, metaKey } = nativeEvent;\n    const isInvalidKey = (\n      ctrlKey || altKey || metaKey\n      || (code && utils.includes(code.toLowerCase(), 'shift'))\n      || utils.includes(key.toLowerCase(), 'shift')\n    );\n    if (isInvalidKey) {\n      return;\n    }\n\n    const shortcutId = String(new Shortcut({ code, shiftKey, keyName: key }));\n    const counterActions = this.state.counterActionsByShortcutId[shortcutId];\n    if (!counterActions || !counterActions.length) {\n      return;\n    }\n\n    const counters = counterActions.map((action) => action.execute({ ...this.state.counters[action.target] }));\n    this.updateCounters(counters);\n  }\n\n  loadCounters = () => {\n    for (const name of localStorageManager.getCounterOrder()) {\n      const counter = localStorageManager.getCounterData(name);\n      if (counter) {\n        this.appendCounter(counter);\n      }\n    }\n  }\n\n  getUpdatedCounterActions = (counterActionsByShortcutId, { newCounterData, oldCounterData }) => {\n    const shortcutActions = {\n      countUp: CounterAction.actionPresets.GET_COUNTED_UP,\n      countDown: CounterAction.actionPresets.GET_COUNTED_DOWN,\n    };\n    const oldShortcuts = oldCounterData && oldCounterData.shortcuts;\n    const newShortcuts = newCounterData.shortcuts;\n\n    counterActionsByShortcutId = { ...counterActionsByShortcutId };\n    for (const shortcutName of ShortcutCollection.shortcutNames) {\n      const oldShortcutId = oldShortcuts && String(oldShortcuts[shortcutName]);\n      const newShortcutId = String(newShortcuts[shortcutName]);\n      if (oldShortcutId && newShortcutId && oldShortcutId === newShortcutId) {\n        continue;\n      }\n\n      const shouldOldShortcutBeRemoved = (\n        oldShortcutId\n        && newShortcuts[shortcutName] !== Shortcut.JUMBLED\n        && newShortcuts[shortcutName] !== Shortcut.NO_CHANGE\n      );\n      if (shouldOldShortcutBeRemoved) {\n        const counterActionsForShortcut = counterActionsByShortcutId[oldShortcutId];\n        counterActionsByShortcutId[oldShortcutId] = counterActionsForShortcut.filter((action) => (\n          action.target !== oldCounterData.name\n          || action.execute !== shortcutActions[shortcutName]\n        ));\n        if (counterActionsByShortcutId[oldShortcutId].length === 0) {\n          delete counterActionsByShortcutId[oldShortcutId];\n        }\n      }\n\n      if (newShortcutId) {\n        const counterActionsForShortcut =\n          utils.initializeOrGetArrayProperty(counterActionsByShortcutId, newShortcutId).slice();\n        counterActionsForShortcut.push(new CounterAction(newCounterData.name, shortcutActions[shortcutName]));\n        counterActionsByShortcutId[newShortcutId] = counterActionsForShortcut;\n      }\n    }\n\n    return counterActionsByShortcutId;\n  }\n\n  getNewCounter = (counterData) => {\n    return (\n      <Counter\n        {...counterData}\n        key={counterData.name}\n      />\n    );\n  }\n\n  appendCounter = (counterData) => {\n    this.setState((state) => {\n      const { name } = counterData;\n      const correctedShortcuts = new ShortcutCollection(counterData.shortcuts);\n      for (const shortcutName of ShortcutCollection.shortcutNames) {\n        if (Shortcut.NONE.equals(correctedShortcuts[shortcutName])) {\n          correctedShortcuts[shortcutName] = Shortcut.NONE;\n        }\n      }\n      const onChange = (newCounterData) => {\n        this.updateCounters([newCounterData]);\n      };\n      counterData = new CounterData({\n        ...counterData,\n        shortcuts: correctedShortcuts,\n        onChange,\n        onEditClick: this.handleSingleCounterEditClick,\n      });\n\n      const counters = {\n        ...state.counters,\n        [name]: counterData,\n      };\n\n      const counterOrder = state.counterOrder.slice();\n      const counterIndexesByName = {\n        ...state.counterIndexesByName,\n        [name]: counterOrder.length,\n      };\n      counterOrder.push(name);\n\n      const counterActionsByShortcutId = this.getUpdatedCounterActions(\n        state.counterActionsByShortcutId, { newCounterData: counterData }\n      );\n\n      localStorageManager.setCounterOrder(counterOrder);\n      localStorageManager.setCounterData(counterData);\n\n      return {\n        counterOrder,\n        counterIndexesByName,\n        counters,\n        counterActionsByShortcutId,\n      };\n    });\n  }\n\n  updateCounters = (updatedCounters) => {\n    this.setState((state) => {\n      const counters = { ...state.counters };\n\n      let counterActionsByShortcutId = { ...state.counterActionsByShortcutId };\n      for (let newCounterData of updatedCounters) {\n        const { name } = newCounterData;\n        const targetComponentIndex = state.counterIndexesByName[name];\n        if (typeof targetComponentIndex !== 'number') {\n          return;\n        }\n\n        if (newCounterData.shortcuts) {\n          counterActionsByShortcutId = this.getUpdatedCounterActions(\n            counterActionsByShortcutId, { newCounterData, oldCounterData: counters[name] }\n          );\n\n          const correctedShortcuts = {};\n          for (const shortcutName of ShortcutCollection.shortcutNames) {\n            const providedShortcut = newCounterData.shortcuts[shortcutName];\n            const hasChange = String(providedShortcut) || providedShortcut === Shortcut.NONE;\n            correctedShortcuts[shortcutName] = hasChange ? providedShortcut : counters[name].shortcuts[shortcutName];\n          }\n          newCounterData = new CounterData({\n            ...counters[name],\n            ...newCounterData,\n            shortcuts: new ShortcutCollection(correctedShortcuts),\n          });\n        }\n\n        counters[name] = {\n          ...counters[name],\n          ...newCounterData,\n        };\n\n        localStorageManager.setCounterData(counters[name]);\n      }\n\n      return { counters, counterActionsByShortcutId };\n    }, this.updateCheckedCountersState);\n  }\n\n  updateCheckedCountersState = () => {\n    this.setState((state) => {\n      const checkedCounters = state.counterOrder.filter((name) => state.counters[name].checked);\n      return { checkedCounters };\n    });\n  }\n\n  checkOrUncheckAll = (checked) => {\n    this.setState((state) => {\n      const counters = { ...state.counters };\n\n      for (const name of state.counterOrder) {\n        if (counters[name].checked !== checked) {\n          counters[name] = {\n            ...counters[name],\n            checked,\n          };\n        }\n      }\n\n      return { counters };\n    }, this.updateCheckedCountersState);\n  }\n\n  removeCheckedCounters = () => {\n    if (this.state.checkedCounters.length === 0) {\n      return;\n    }\n\n    this.setState((state) => {\n      const counterIndexesByName = { ...state.counterIndexesByName };\n      const counters = { ...state.counters };\n      let counterActionsByShortcutId = { ...state.counterActionsByShortcutId };\n\n      let removed = 0;\n      const counterOrder = state.counterOrder.filter((name, index) => {\n        const checked = counters[name].checked;\n        if (checked) {\n          const newCounterData = new CounterData({ ...counters[name], shortcuts: ShortcutCollection.EMPTY });\n          counterActionsByShortcutId = this.getUpdatedCounterActions(\n            counterActionsByShortcutId, { newCounterData, oldCounterData: counters[name] }\n          );\n\n          delete counterIndexesByName[name];\n          delete counters[name];\n          localStorageManager.removeCounterData(name);\n          removed += 1;\n        } else {\n          counterIndexesByName[name] = index - removed;\n        }\n        return !checked;\n      });\n\n      localStorageManager.setCounterOrder(counterOrder);\n\n      return {\n        counterOrder,\n        counterIndexesByName,\n        counters,\n        counterActionsByShortcutId,\n        isEditModeEnabled: false,\n      }\n    }, this.updateCheckedCountersState);\n  }\n\n  openOrCloseModal = (willOpen, modal) => {\n    this.setState({ modal: willOpen ? modal : '' });\n  }\n\n  isEveryCounterChecked = () => {\n    return this.state.checkedCounters.length === this.state.counterOrder.length;\n  }\n\n  handleResetClick = (event) => {\n    event.preventDefault();\n    if (this.state.checkedCounters.length === 0) {\n      return;\n    }\n\n    const countersToUpdate = this.state.checkedCounters.map((name) => ({\n      name,\n      checked: false,\n      value: this.state.counters[name].initial,\n    }));\n    this.updateCounters(countersToUpdate);\n    this.setState({ isEditModeEnabled: false });\n  }\n\n  handleRemoveClick = (event) => {\n    event.preventDefault();\n    this.removeCheckedCounters();\n  }\n\n  handleClearClick = (event) => {\n    event.preventDefault();\n    const message = this.props.t('header.confirm-clear');\n    if (window.confirm(message)) {\n      localStorageManager.initialize();\n      window.location.reload();\n    }\n  }\n\n  handleNewCounterClick = (event) => {\n    event.preventDefault();\n    this.openOrCloseModal(true, 'AddNewCounterModal');\n  }\n\n  handleNewCounterModalSubmit = (param) => {\n    const newCounter = new CounterData({\n      ...param,\n      value: param.initial,\n    });\n    this.appendCounter(newCounter);\n\n    this.openOrCloseModal(false);\n  }\n\n  handleEditCountersClick = (event) => {\n    event.preventDefault();\n    if (this.state.checkedCounters.length > 0) {\n      this.openOrCloseModal(true, 'EditCountersModal');\n    }\n  }\n\n  handleEditCountersModalSubmit = (param) => {\n    const { counters } = this.state;\n\n    const overwritingShortcuts = {};\n    for (const shortcutName of ShortcutCollection.shortcutNames) {\n      if (param.shortcuts[shortcutName] !== Shortcut.JUMBLED) {\n        overwritingShortcuts[shortcutName] = param.shortcuts[shortcutName];\n      }\n    }\n\n    const newCounters = param.names.map((name) => {\n      const {\n        value = counters[name].value,\n        initial = counters[name].initial,\n        min = counters[name].min,\n        max = counters[name].max,\n        step = counters[name].step,\n        shortcuts = counters[name].shortcuts,\n      } = param;\n      return {\n        name, value, initial, min, max, step,\n        shortcuts: new ShortcutCollection({ ...shortcuts, ...overwritingShortcuts }),\n      };\n    });\n    this.updateCounters(newCounters);\n\n    this.openOrCloseModal(false);\n    if (!this.state.singleCounterToEdit) {\n      this.checkOrUncheckAll(false);\n    }\n    this.setState((state) => ({\n      singleCounterToEdit: null,\n      isEditModeEnabled: !!state.singleCounterToEdit,\n    }));\n  }\n\n  handleLanguagesClick = (event) => {\n    event.preventDefault();\n    this.openOrCloseModal(true, 'LanguagesModal');\n  }\n\n  handleModalCancel = () => {\n    this.openOrCloseModal(false);\n    this.setState({ singleCounterToEdit: null });\n  }\n\n  handleEditCounterListClick = (event) => {\n    event.preventDefault();\n    this.checkOrUncheckAll(false);\n    this.setState((state) => {\n      return {\n        isEditModeEnabled: !state.isEditModeEnabled,\n      };\n    });\n  }\n\n  handleSelectAllClick = (event) => {\n    event.preventDefault();\n    this.checkOrUncheckAll(!this.isEveryCounterChecked());\n  }\n\n  handleSingleCounterEditClick = (name) => {\n    this.setState((state) => ({\n      singleCounterToEdit: state.counters[name],\n    }), () => {\n      this.openOrCloseModal(true, 'EditCountersModal');\n    });\n  }\n\n  render = () => {\n    const { t } = this.props;\n\n    const isEditModeEnabled = this.state.isEditModeEnabled;\n    const classes = {\n      headerItem: {\n        normalOnly: classNames('header-item', { 'force-hidden': isEditModeEnabled }),\n        editModeOnly: classNames('header-item', { 'force-hidden': !isEditModeEnabled }),\n      }\n    };\n\n    const counterComponents = this.state.counterOrder.slice().map((name) => {\n      return this.getNewCounter(this.state.counters[name]);\n    });\n    const singleCounterToEdit = this.state.singleCounterToEdit;\n    const editCountersModalProps = {\n      counters: (\n        singleCounterToEdit\n        ? { [singleCounterToEdit.name]: singleCounterToEdit }\n        : this.state.counters\n      ),\n      names: singleCounterToEdit ? [singleCounterToEdit.name] : this.state.checkedCounters,\n    };\n\n    return (\n      <div className=\"App\">\n\n        <div className=\"header-container\">\n          <header className=\"header\">\n            <ul className=\"header-item-group group-left\">\n              <li className={classes.headerItem.normalOnly}>\n                <h1 className=\"app-title\">\n                  {t('header.title')}\n                </h1>\n              </li>\n\n              <li className={classes.headerItem.editModeOnly}>\n                <button\n                  type=\"button\"\n                  onClick={this.handleSelectAllClick}\n                  className=\"button-with-icon-text\"\n                >\n                  <img\n                    src={icons.checkAll}\n                    alt=\"\"\n                    width={24}\n                    height={24}\n                  />\n                  <span>\n                    {t('header.select-all')}\n                  </span>\n                </button>\n              </li>\n\n              <li className={classes.headerItem.editModeOnly}>\n                <button\n                  type=\"button\"\n                  onClick={this.handleEditCountersClick}\n                  className=\"button-with-icon-text\"\n                >\n                  <img\n                    src={icons.edit}\n                    alt=\"\"\n                    width={24}\n                    height={24}\n                  />\n                  <span>\n                    {t('header.edit')}\n                  </span>\n                </button>\n              </li>\n\n              <li className={classes.headerItem.editModeOnly}>\n                <button\n                  type=\"button\"\n                  onClick={this.handleResetClick}\n                  className=\"button-with-icon-text button-negative\"\n                >\n                  <img\n                    src={icons.reset}\n                    alt=\"\"\n                    width={24}\n                    height={24}\n                  />\n                  <span>\n                    {t('header.reset')}\n                  </span>\n                </button>\n              </li>\n\n              <li className={classes.headerItem.editModeOnly}>\n                <button\n                  type=\"button\"\n                  onClick={this.handleRemoveClick}\n                  className=\"button-with-icon-text button-negative\"\n                >\n                  <img\n                    src={icons.remove}\n                    alt=\"\"\n                    width={24}\n                    height={24}\n                  />\n                  <span>\n                    {t('header.remove')}\n                  </span>\n                </button>\n              </li>\n\n              <li className={classes.headerItem.editModeOnly}>\n                <button\n                  type=\"button\"\n                  onClick={this.handleClearClick}\n                  className=\"button-with-icon-text button-negative\"\n                >\n                  <img\n                    src={icons.clear}\n                    alt=\"\"\n                    width={24}\n                    height={24}\n                  />\n                  <span>\n                    {t('header.clear')}\n                  </span>\n                </button>\n              </li>\n            </ul>\n\n            <ul className=\"header-item-group group-right\">\n              <li className=\"header-item\">\n                <button\n                  type=\"button\"\n                  onClick={this.handleEditCounterListClick}\n                  className=\"button-with-icon\"\n                >\n                  {\n                    isEditModeEnabled\n                    ? (\n                        <img\n                          src={icons.close}\n                          alt={t('header.exit-edit-mode')}\n                          width={24}\n                          height={24}\n                        />\n                      )\n                    : (\n                        <img\n                          src={icons.menu}\n                          alt={t('header.edit-counter-list')}\n                          width={24}\n                          height={24}\n                        />\n                      )\n                  }\n                </button>\n              </li>\n            </ul>\n          </header>\n        </div>\n\n        <div className=\"main-container\">\n          <main className=\"main\">\n            <GlobalEditModeContext.Provider\n              value={isEditModeEnabled}\n            >\n              {counterComponents}\n            </GlobalEditModeContext.Provider>\n\n            <ul className=\"main-additional\">\n              <li>\n                <button\n                  type=\"button\"\n                  disabled={isEditModeEnabled}\n                  onClick={this.handleNewCounterClick}\n                  className=\"main-additional-button button-positive\"\n                >\n                  <img\n                    src={icons.add}\n                    alt={t('main.add-new-counter')}\n                    width={24}\n                    height={24}\n                  />\n                </button>\n              </li>\n\n              <li>\n                <button\n                  type=\"button\"\n                  onClick={this.handleLanguagesClick}\n                  className=\"main-additional-button\"\n                >\n                  <img\n                    src={icons.language}\n                    alt={t('main.change-language')}\n                    width={24}\n                    height={24}\n                  />\n                </button>\n              </li>\n            </ul>\n          </main>\n        </div>\n\n        <AddNewCounterModal\n          existingNames={this.state.counterOrder}\n          isOpen={this.state.modal === 'AddNewCounterModal'}\n          onSubmit={this.handleNewCounterModalSubmit}\n          onCancel={this.handleModalCancel}\n        />\n\n        <EditCountersModal\n          counters={editCountersModalProps.counters}\n          names={editCountersModalProps.names}\n          isOpen={this.state.modal === 'EditCountersModal'}\n          onSubmit={this.handleEditCountersModalSubmit}\n          onCancel={this.handleModalCancel}\n        />\n\n        <LanguagesModal\n          isOpen={this.state.modal === 'LanguagesModal'}\n          onCancel={this.handleModalCancel}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './i18n';\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}