{"version":3,"sources":["icons/add.svg","icons/check.svg","icons/check-all.svg","icons/clear.svg","icons/close.svg","icons/edit.svg","icons/menu.svg","icons/remove.svg","icons/reset.svg","icons/subtract.svg","contexts.js","utils.js","shortcut.js","shortcut-collection.js","counter-data.js","counter-action.js","icons.js","counter.jsx","shortcut-capture-form.jsx","add-new-counter-modal.jsx","edit-counters-modal.jsx","local-storage-manager.js","app.jsx","serviceWorker.js","index.js"],"names":["module","exports","GlobalEditModeContext","React","createContext","includes","obj","target","indexOf","platformLower","navigator","platform","toLowerCase","userAgentLower","userAgent","appVersionLower","appVersion","isMacOs","textInputTypes","utils","initializeOrGetArrayProperty","key","isTextForm","element","tagName","toUpperCase","type","Shortcut","code","keyName","shiftKey","getJumbledIfDiffersFrom","comparisonTarget","equals","JUMBLED","getStringToDisplay","shift","getNotShiftedFromCode","getNotShiftedFromKey","other","toString","prefix","this","isValidCode","isValidKey","NONE","NO_CHANGE","notShiftedKeysFromCode","validCodes","Object","keys","notShiftedKeys","validKeys","test","ShortcutCollection","initialShortcutCollection","getDifferenceMarked","result","SHORTCUT_NAMES","field","thisFields","otherFields","length","every","thisField","EMPTY","CounterData","param","getCorrectedValue","value","min","max","getCorrectedCounterData","getComparisonObject","resultBase","MANIPULATOR_PROPS","prop","Counter","defaultProps","name","initial","step","checked","onChange","onEditClick","shortcuts","PRESETS","NO_OP","GET_COUNTED_UP","counterData","GET_COUNTED_DOWN","CounterAction","action","execute","icons","add","check","checkAll","clear","close","edit","menu","remove","reset","subtract","getCorrectValue","newValue","props","callOnChangeByValue","defaults","countDown","countUp","handleCounterClick","event","context","handleCheckboxChange","handleEditClick","stopPropagation","preventDefault","handleCountDownClick","handleCountUpClick","render","isGlobalEditModeEnabled","classes","counter","classNames","normalCounterButton","editCounterButton","className","onClick","readOnly","src","alt","Component","contextType","Number","MAX_SAFE_INTEGER","ShortcutCaptureForm","handleKeyDown","nativeEvent","getShortcutString","shortcut","handleCancelClick","handleRemoveClick","onKeyDown","defaultState","countUpShortcut","countDownShortcut","AddNewCounterModal","handleModalAfterOpen","setState","handleNameChange","handleInitialChange","handleMinChange","handleMaxChange","handleStepChange","handleCountUpShortcutChange","handleCountDownShortcutChange","handleSubmitClick","state","map","parseInt","isSafeInteger","window","alert","existingNames","onSubmit","onCancel","isOpen","onAfterOpen","onRequestClose","contentLabel","shouldCloseOnOverlayClick","shouldCloseOnEsc","overlayClassName","required","inputMode","pattern","EditCountersModal","names","checkedCount","firstCounter","counters","index","currentCounter","counterProp","handleValueChange","submitArgument","isAllSafeInteger","join","ITEM_NAMES","getCounterItemName","available","localStorage","setItem","removeItem","e","initialize","setCounterOrder","setCounterData","counterOrder","JSON","stringify","STORED_COUNTER_PROPERTIES","storedCounterData","property","localStorageManager","getCounterOrder","isSecondTrial","counterOrderString","getItem","parse","constructor","Array","getCounterData","counterDataString","shortcutName","removeCounterData","ReactModal","setAppElement","App","componentDidMount","document","addEventListener","handleDocumentKeyDown","loadCounters","componentWillUnmount","removeEventListener","isEditModeEnabled","modal","ctrlKey","altKey","metaKey","shortcutId","String","counterActions","counterActionsByShortcutId","updateCounters","appendCounter","getUpdatedCounterActions","newCounterData","oldCounterData","shortcutActions","oldShortcuts","newShortcuts","oldShortcutId","newShortcutId","counterActionsForShortcut","filter","slice","push","getNewCounter","correctedShortcuts","handleSingleCounterEditClick","counterIndexesByName","updatedCounters","providedShortcut","hasChange","updateCheckedCountersState","checkedCounters","checkOrUncheckAll","removeCheckedCounters","removed","openOrCloseModal","willOpen","isEveryCounterChecked","handleResetClick","countersToUpdate","handleClearClick","confirm","location","reload","handleNewCounterClick","handleNewCounterModalSubmit","newCounter","handleEditCountersClick","handleEditCountersModalSubmit","overwritingShortcuts","newCounters","singleCounterToEdit","handleModalCancel","handleEditCounterListClick","handleSelectAllClick","headerItem","normalOnly","editModeOnly","addNewCounterButton","counterComponents","editCountersModalProps","Provider","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","StrictMode","getElementById","URL","process","href","origin","fetch","headers","response","contentType","get","status","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.b73d9cf3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/add.66ce4250.svg\";","module.exports = __webpack_public_path__ + \"static/media/check.e294285e.svg\";","module.exports = __webpack_public_path__ + \"static/media/check-all.e078e73b.svg\";","module.exports = __webpack_public_path__ + \"static/media/clear.4217c5fb.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.b840e171.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit.539b3c38.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu.55f68494.svg\";","module.exports = __webpack_public_path__ + \"static/media/remove.16793e81.svg\";","module.exports = __webpack_public_path__ + \"static/media/reset.1cd9ed86.svg\";","module.exports = __webpack_public_path__ + \"static/media/subtract.d788b81e.svg\";","import React from 'react';\n\nexport const GlobalEditModeContext = React.createContext(false);\n","export const includes = (obj, target) => {\n  if (target === 'indexOf') {\n    return !!obj.indexOf;\n  }\n  if (obj.indexOf) {\n    return obj.indexOf(target) !== -1;\n  }\n  return !!obj[target];\n};\n\n\nexport const initializeOrGetArrayProperty = (obj, key) => {\n  if (!obj[key]) {\n    obj[key] = [];\n  }\n  return obj[key];\n};\n\n\nconst platformLower = navigator.platform.toLowerCase();\nconst userAgentLower = navigator.userAgent.toLowerCase();\nconst appVersionLower = navigator.appVersion.toLowerCase();\n\nexport const isMacOs = (\n  includes(platformLower, 'mac')\n  || includes(userAgentLower, 'mac')\n  || includes(appVersionLower, 'mac')\n);\n\n\nconst textInputTypes = [\n  'date', 'datetime-local', 'email', 'month', 'number', 'password', 'search', 'tel', 'text', 'time', 'url', 'week'\n];\n\nexport const isTextForm = (element) => {\n  const tagName = element.tagName.toUpperCase();\n  return (\n    (tagName === 'INPUT' && includes(textInputTypes, element.type.toLowerCase()))\n    || tagName === 'TEXTAREA'\n  );\n};\n\n\nconst utils = {\n  includes,\n  initializeOrGetArrayProperty,\n  isMacOs,\n  isTextForm,\n};\nexport default utils;\n","import { includes, isMacOs } from './utils';\n\n\nexport class Shortcut {\n  constructor({ code = '', keyName = '', shiftKey = false }) {\n    this.code = code;\n    this.keyName = keyName;\n    this.shiftKey = shiftKey;\n  }\n\n  static get NONE() {\n    return NONE;\n  }\n  static get JUMBLED() {\n    return JUMBLED;\n  }\n  static get NO_CHANGE() {\n    return NO_CHANGE;\n  }\n\n  static isValidCode(code) {\n    return isValidCode(code);\n  }\n  static getNotShiftedFromCode(code) {\n    return getNotShiftedFromCode(code);\n  }\n\n  static isValidKey(keyName) {\n    return isValidKey(keyName);\n  }\n  static getNotShiftedFromKey(keyName) {\n    return getNotShiftedFromKey(keyName);\n  }\n\n  getJumbledIfDiffersFrom = (comparisonTarget) => {\n    return this.equals(comparisonTarget) ? this : JUMBLED;\n  }\n\n  getStringToDisplay = () => {\n    let shift;\n    if (isMacOs) {\n      shift = this.shiftKey ? '⇧' : '';\n    } else {\n      shift = this.shiftKey ? 'Shift+' : '';\n    }\n\n    if (this.code) {\n      return `${shift}${getNotShiftedFromCode(this.code)}`;\n    }\n    return `${shift}${getNotShiftedFromKey(this.keyName)}`;\n  }\n\n  equals = (other) => {\n    return (\n      this.shiftKey === other.shiftKey\n      && this.code === other.code\n      && this.keyName === other.keyName\n    );\n  }\n\n  toString = () => {\n    const prefix = this.shiftKey ? 'Shift' : '';\n    return `${prefix}${this.code || this.keyName}`;\n  }\n}\n\n\nconst NONE = new Shortcut({ keyName: '', code: '', shiftKey: false });\nconst JUMBLED = new Shortcut(NONE);\nconst NO_CHANGE = new Shortcut(NONE);\n\n\nconst notShiftedKeysFromCode = {\n  'Backquote': '`', 'Digit1': '1', 'Digit2': '2', 'Digit3': '3', 'Digit4': '4', 'Digit5': '5', 'Digit6': '6',\n  'Digit7': '7', 'Digit8': '8', 'Digit9': '9', 'Digit0': '0', 'Minus': '-', 'Equal': '=',\n  'KeyQ': 'Q', 'KeyW': 'W', 'KeyE': 'E', 'KeyR': 'R', 'KeyT': 'T', 'KeyY': 'Y', 'KeyU': 'U', 'KeyI': 'I', 'KeyO': 'O',\n  'KeyP': 'P', 'BracketLeft': '[', 'BracketRight': ']', 'Backslash': '\\\\',\n  'KeyA': 'A', 'KeyS': 'S', 'KeyD': 'D', 'KeyF': 'F', 'KeyG': 'G', 'KeyH': 'H', 'KeyJ': 'J', 'KeyK': 'K', 'KeyL': 'L',\n  'Semicolon': ';', 'Quote': \"'\",\n  'KeyZ': 'Z', 'KeyX': 'X', 'KeyC': 'C', 'KeyV': 'V', 'KeyB': 'B', 'KeyN': 'N', 'KeyM': 'M', 'Comma': ',',\n  'Period': '.', 'Slash': '/',\n};\nconst validCodes = Object.keys(notShiftedKeysFromCode);\n\nconst isValidCode = (code) => {\n  return includes(validCodes, code);\n};\n\nconst getNotShiftedFromCode = (code) => {\n  const notShifted = notShiftedKeysFromCode[code];\n  return notShifted || '';\n};\n\n\nconst notShiftedKeys = {\n  '`': '`', '~': '`',\n  '!': '1', '@': '2', '#': '3', '$': '4', '%': '5', '^': '6', '&': '7', '*': '8', '(': '9', ')': '0',\n  '-': '-', '_': '-', '=': '=', '+': '=',\n  '[': '[', '{': '[', ']': ']', '}': ']', '\\\\': '\\\\', '|': '\\\\',\n  ';': ';', ':': ';', \"'\": \"'\", '\"': \"'\",\n  ',': ',', '<': ',', '.': '.', '>': '.', '/': '/', '?': '/',\n};\nconst validKeys = Object.keys(notShiftedKeys);\n\nconst isValidKey = (key) => {\n  return /^[A-Za-z]$/.test(key) || includes(validKeys, key);\n};\n\nconst getNotShiftedFromKey = (key) => {\n  if (/[A-Za-z]/.test(key)) {\n    return key.toUpperCase();\n  } else if (!/[`~!@#$%^&*(),./<>?;':\"[\\]\\\\{}|+_=-]/.test(key)) {\n    return key;\n  }\n  return notShiftedKeys[key];\n};\n\n\nexport default Shortcut;\n","import Shortcut from './shortcut';\n\nexport class ShortcutCollection {\n  constructor(initialShortcutCollection) {\n    for (const field of SHORTCUT_NAMES) {\n      if (initialShortcutCollection && initialShortcutCollection[field]) {\n        this[field] = initialShortcutCollection[field];\n      } else {\n        this[field] = Shortcut.NONE;\n      }\n    }\n  }\n\n  static get EMPTY() {\n    return EMPTY;\n  }\n\n  static get SHORTCUT_NAMES() {\n    return SHORTCUT_NAMES;\n  }\n\n  getDifferenceMarked = (comparisonTarget) => {\n    const result = new ShortcutCollection(this);\n    for (const field of SHORTCUT_NAMES) {\n      result[field] = this[field].getJumbledIfDiffersFrom(comparisonTarget[field]);\n    }\n    return result;\n  }\n\n  equals = (other) => {\n    const thisFields = Object.keys(this);\n    const otherFields = Object.keys(other);\n    return (\n      thisFields.length === otherFields.length\n      && thisFields.every((thisField) => this[thisField] === other[thisField])\n    );\n  }\n}\n\nconst SHORTCUT_NAMES = ['countUp', 'countDown'];\nconst EMPTY = new ShortcutCollection();\n\nexport default ShortcutCollection;\n","import Counter from './counter';\nimport ShortcutCollection from './shortcut-collection';\n\nexport class CounterData {\n  constructor(param) {\n    const { name, value, initial, min, max, step, checked, onChange, onEditClick, shortcuts } = {\n      ...Counter.defaultProps,\n      ...param,\n    };\n    this.name = name;\n    this.value = value;\n    this.initial = initial;\n    this.min = min;\n    this.max = max;\n    this.step = step;\n    this.checked = checked;\n    this.onChange = onChange;\n    this.onEditClick = onEditClick;\n    this.shortcuts = shortcuts ? shortcuts : ShortcutCollection.EMPTY;\n  }\n\n  static get MANIPULATOR_PROPS() {\n    return MANIPULATOR_PROPS;\n  }\n\n  getCorrectedValue = () => {\n    if (this.value < this.min) {\n      return this.min;\n    } else if (this.value > this.max) {\n      return this.max;\n    }\n    return this.value;\n  }\n\n  getCorrectedCounterData = () => {\n    return new CounterData({\n      ...this,\n      value: this.getCorrectedValue(),\n    });\n  }\n\n  getComparisonObject = () => {\n    const resultBase = {};\n    for (const prop of MANIPULATOR_PROPS) {\n      resultBase[prop] = this[prop];\n    }\n    return new CounterData(resultBase);\n  }\n\n  getJumbledIfDiffersFrom = (other) => {\n    const result = new CounterData(this);\n    for (const prop of MANIPULATOR_PROPS) {\n      if (this[prop] !== other[prop]) {\n        result[prop] = '';\n      }\n    }\n    return result;\n  }\n}\n\nconst MANIPULATOR_PROPS = ['value', 'initial', 'min', 'max', 'step'];\n\nexport default CounterData;\n","import CounterData from './counter-data';\n\nconst PRESETS = {\n  NO_OP: () => {},\n  GET_COUNTED_UP: (counterData) => (\n    new CounterData({ ...counterData, value: counterData.value + counterData.step })\n      .getCorrectedCounterData()\n  ),\n  GET_COUNTED_DOWN: (counterData) => (\n    new CounterData({ ...counterData, value: counterData.value - counterData.step })\n      .getCorrectedCounterData()\n  ),\n};\n\nexport class CounterAction {\n  constructor(target, action) {\n    this.target = target;\n    this.execute = action;\n  }\n\n  static get PRESETS() {\n    return PRESETS;\n  }\n}\n\nexport default CounterAction;\n","import add from './icons/add.svg';\nimport check from './icons/check.svg';\nimport checkAll from './icons/check-all.svg';\nimport clear from './icons/clear.svg';\nimport close from './icons/close.svg';\nimport edit from './icons/edit.svg';\nimport menu from './icons/menu.svg';\nimport remove from './icons/remove.svg';\nimport reset from './icons/reset.svg';\nimport subtract from './icons/subtract.svg';\n\nconst icons = { add, check, checkAll, clear, close, edit, menu, remove, reset, subtract };\nexport default icons;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { GlobalEditModeContext } from './contexts';\nimport CounterAction from './counter-action';\nimport icons from './icons';\n\nexport class Counter extends React.Component {\n  getCorrectValue = (newValue) => {\n    if (newValue < this.props.min) {\n      newValue = this.props.min;\n    } else if (newValue > this.props.max) {\n      newValue = this.props.max;\n    }\n    return newValue;\n  }\n\n  callOnChangeByValue = (newValue, defaults) => {\n    newValue = this.getCorrectValue(newValue);\n    if (this.props.value !== newValue) {\n      this.props.onChange({\n        ...defaults,\n        value: newValue,\n        name: this.props.name,\n      });\n    }\n  }\n\n  countDown = () => {\n    const newValue = this.props.value - this.props.step;\n    this.callOnChangeByValue(newValue);\n  }\n\n  countUp = () => {\n    const newValue = this.props.value + this.props.step;\n    this.callOnChangeByValue(newValue);\n  }\n\n  handleCounterClick = (event) => {\n    const isGlobalEditModeEnabled = this.context;\n    if (isGlobalEditModeEnabled) {\n      this.props.onChange({\n        checked: !this.props.checked,\n        name: this.props.name,\n      });\n    }\n  }\n\n  handleCheckboxChange = (event) => {\n    this.props.onChange({\n      checked: event.target.checked,\n      name: this.props.name,\n    });\n  }\n\n  handleEditClick = (event) => {\n    event.stopPropagation();\n    event.preventDefault();\n    this.props.onEditClick(this.props.name);\n  }\n\n  handleCountDownClick = (event) => {\n    event.preventDefault();\n    this.countDown();\n  }\n\n  handleCountUpClick = (event) => {\n    event.preventDefault();\n    this.countUp();\n  }\n\n  render = () => {\n    const isGlobalEditModeEnabled = this.context;\n\n    const classes = {\n      counter: classNames('counter', { 'counter-checked': this.props.checked }),\n      normalCounterButton: classNames('button-with-icon', { 'force-hidden': isGlobalEditModeEnabled }),\n      editCounterButton: classNames('button-with-icon-text', { 'force-hidden': !isGlobalEditModeEnabled }),\n    };\n\n    return (\n      <div\n        className={classes.counter}\n        onClick={this.handleCounterClick}\n      >\n        <ul>\n          <li className=\"counter-row\">\n            <label className=\"counter-label\">\n              {this.props.name}\n            </label>\n          </li>\n\n          <li className=\"counter-row\">\n            <input\n              type=\"text\"\n              value={this.props.value}\n              readOnly={true}\n              className=\"counter-value\"\n            />\n\n            <button\n              type=\"button\"\n              onClick={this.handleCountDownClick}\n              className={classes.normalCounterButton}\n            >\n              <img src={icons.subtract} alt=\"Count down\" />\n            </button>\n\n            <button\n              type=\"button\"\n              onClick={this.handleCountUpClick}\n              className={classes.normalCounterButton}\n            >\n              <img src={icons.add} alt=\"Count up\" />\n            </button>\n\n            <button\n              type=\"button\"\n              onClick={this.handleEditClick}\n              className={classes.editCounterButton}\n            >\n              <img src={icons.edit} alt=\"\" />\n              <span>Edit</span>\n            </button>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nCounter.contextType = GlobalEditModeContext;\n\nCounter.propTypes = {\n  initial: PropTypes.number,\n  value: PropTypes.number,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  step: PropTypes.number,\n  name: PropTypes.string,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n  onEditClick: PropTypes.func,\n};\n\nCounter.defaultProps = {\n  initial: 0,\n  value: 0,\n  min: 0,\n  max: Number.MAX_SAFE_INTEGER,\n  step: 1,\n  name: '',\n  checked: false,\n  onChange: CounterAction.PRESETS.NO_OP,\n  onEditClick: CounterAction.PRESETS.NO_OP,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CounterAction from './counter-action';\nimport Shortcut from './shortcut';\nimport icons from './icons';\n\nclass ShortcutCaptureForm extends React.Component {\n  handleKeyDown = (event) => {\n    const { key: keyName, shiftKey } = event;\n    const { code } = event.nativeEvent;\n\n    if (code) {\n      if (Shortcut.isValidCode(code)) {\n        this.props.onChange(new Shortcut({ code, shiftKey }));\n      } else {\n        this.props.onChange(Shortcut.NONE);\n      }\n\n    } else {\n      if (Shortcut.isValidKey(keyName)) {\n        this.props.onChange(new Shortcut({ keyName, shiftKey }));\n      } else {\n        this.props.onChange(Shortcut.NONE);\n      }\n    }\n  }\n\n  getShortcutString = () => {\n    const { shortcut } = this.props;\n    if (shortcut === Shortcut.NONE) {\n      return '(None)';\n    } else if (shortcut === Shortcut.JUMBLED) {\n      return '(Multiple values)';\n    } else if (shortcut === Shortcut.NO_CHANGE) {\n      return '(No change)';\n    }\n    return shortcut.getStringToDisplay();\n  }\n\n  handleCancelClick = (event) => {\n    event.preventDefault();\n    this.props.onChange(Shortcut.NO_CHANGE);\n  }\n\n  handleRemoveClick = (event) => {\n    event.preventDefault();\n    this.props.onChange(Shortcut.NONE);\n  }\n\n  render = () => {\n    return (\n      <div className=\"shortcut-capture\">\n        <input\n          type=\"text\"\n          value={this.getShortcutString()}\n          onChange={CounterAction.PRESETS.NO_OP}\n          onKeyDown={this.handleKeyDown}\n          className=\"shortcut-capture-input\"\n        />\n        <button\n          type=\"button\"\n          onClick={this.handleCancelClick}\n          className=\"shortcut-capture-button\"\n        >\n          <img src={icons.reset} alt=\"Cancel modifying this shortcut binding\" />\n        </button>\n        <button\n          type=\"button\"\n          onClick={this.handleRemoveClick}\n          className=\"shortcut-capture-button\"\n        >\n          <img src={icons.remove} alt=\"Remove this shortcut binding\" />\n        </button>\n      </div>\n    );\n  }\n}\n\nShortcutCaptureForm.propTypes = {\n  onChange: PropTypes.func,\n}\n\nShortcutCaptureForm.defaultProps = {\n  keyName: '',\n  code: '',\n  shiftKey: false,\n  shortcut: Shortcut.NO_CHANGE,\n  onChange: CounterAction.PRESETS.NO_OP,\n};\n\nexport default ShortcutCaptureForm;\n","import React from 'react';\nimport ReactModal from 'react-modal';\nimport ShortcutCaptureForm from './shortcut-capture-form';\nimport Shortcut from './shortcut';\nimport ShortcutCollection from './shortcut-collection';\nimport icons from './icons';\n\nconst defaultState = {\n  name: '',\n  initial: '0',\n  min: '0',\n  max: `${Number.MAX_SAFE_INTEGER}`,\n  step: '1',\n  countUpShortcut: Shortcut.NONE,\n  countDownShortcut: Shortcut.NONE,\n};\n\nclass AddNewCounterModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = defaultState;\n  }\n\n  handleModalAfterOpen = () => {\n    this.setState(defaultState);\n  }\n\n  handleNameChange = (event) => {\n    this.setState({\n      name: event.target.value,\n    });\n  }\n\n  handleInitialChange = (event) => {\n    this.setState({\n      initial: event.target.value,\n    });\n  }\n\n  handleMinChange = (event) => {\n    this.setState({\n      min: event.target.value,\n    });\n  }\n\n  handleMaxChange = (event) => {\n    this.setState({\n      max: event.target.value,\n    });\n  }\n\n  handleStepChange = (event) => {\n    this.setState({\n      step: event.target.value,\n    });\n  }\n\n  handleCountUpShortcutChange = (shortcut) => {\n    this.setState({\n      countUpShortcut: shortcut,\n    });\n  }\n\n  handleCountDownShortcutChange = (shortcut) => {\n    this.setState({\n      countDownShortcut: shortcut,\n    });\n  }\n\n  handleSubmitClick = (event) => {\n    event.preventDefault();\n\n    let {name, initial, min, max, step} = this.state;\n    [initial, min, max, step] = [initial, min, max, step].map((value) => Number.parseInt(value, 10));\n\n    // TODO - Display what form is invalid.\n    if ([initial, min, max, step].map((value) => Number.isSafeInteger(value)).includes(false)) {\n      // FIXME - Show what is invalid exactly.\n      window.alert('Initial value, minimum value, maximum value, and counter step should be safe integers.');\n      return;\n    } else if (step <= 0) {\n      window.alert('Counter step should be a positive integer.');\n      return;\n    } else if (min > max) {\n      window.alert('Mininum value should be lesser than maximum value.');\n      return;\n    } else if (name === '' || this.props.existingNames.includes(name)) {\n      // FIXME - Show what is invalid exactly.\n      window.alert('Name should not be empty or duplicated.');\n      return;\n    }\n\n    const { countUpShortcut: countUp, countDownShortcut: countDown } = this.state;\n    const shortcuts = new ShortcutCollection({ countUp, countDown });\n\n    this.props.onSubmit({ name, initial, min, max, step, shortcuts });\n  }\n\n  handleCancelClick = (event) => {\n    event.preventDefault();\n    this.props.onCancel();\n  }\n\n  render = () => {\n    return (\n      <ReactModal\n        isOpen={this.props.isOpen}\n        onAfterOpen={this.handleModalAfterOpen}\n        onRequestClose={this.props.onCancel}\n        contentLabel=\"Add New Counter\"\n        shouldCloseOnOverlayClick={true}\n        shouldCloseOnEsc={true}\n        className=\"modal\"\n        overlayClassName=\"modal-overlay\"\n      >\n        <h1>\n          Add New Counter\n        </h1>\n\n        <hr />\n\n        <ul>\n          <li>\n            <label>\n              Name\n            </label>\n            <input\n              type=\"text\"\n              required={true}\n              value={this.state.name}\n              onChange={this.handleNameChange}\n            />\n          </li>\n          <li>\n            <label>\n              Initial value (Integer)\n            </label>\n            <input\n              type=\"number\"\n              inputMode=\"numeric\"\n              pattern=\"-?\\\\d*\"\n              value={this.state.initial}\n              onChange={this.handleInitialChange}\n            />\n          </li>\n          <li>\n            <label>\n              Minimum value (Integer)\n            </label>\n            <input\n              type=\"number\"\n              inputMode=\"numeric\"\n              pattern=\"-?\\\\d*\"\n              value={this.state.min}\n              onChange={this.handleMinChange}\n            />\n          </li>\n          <li>\n            <label>\n              Maximum value (Integer)\n            </label>\n            <input\n              type=\"number\"\n              inputMode=\"numeric\"\n              pattern=\"-?\\\\d*\"\n              value={this.state.max}\n              onChange={this.handleMaxChange}\n            />\n          </li>\n          <li>\n            <label>\n              Count step (Positive integer)\n            </label>\n            <input\n              type=\"number\"\n              inputMode=\"numeric\"\n              pattern=\"[1-9]\\\\d*\"\n              value={this.state.step}\n              onChange={this.handleStepChange}\n            />\n          </li>\n        </ul>\n\n        <hr />\n\n        <h2>Shortcuts</h2>\n        <ul>\n          <li>\n            <label>\n              Count Up\n            </label>\n            <ShortcutCaptureForm\n              shortcut={this.state.countUpShortcut}\n              onChange={this.handleCountUpShortcutChange}\n            />\n          </li>\n          <li>\n            <label>\n              Count Down\n            </label>\n            <ShortcutCaptureForm\n              shortcut={this.state.countDownShortcut}\n              onChange={this.handleCountDownShortcutChange}\n            />\n          </li>\n        </ul>\n\n        <hr />\n\n        <ul className=\"modal-actions\">\n          <li>\n            <button\n              type=\"reset\"\n              onClick={this.handleCancelClick}\n              className=\"action-button button-negative\"\n            >\n              <img src={icons.close} alt=\"Cancel\" />\n            </button>\n          </li>\n          <li>\n            <button\n              type=\"button\"\n              onClick={this.handleSubmitClick}\n              className=\"action-button button-positive\"\n            >\n              <img src={icons.check} alt=\"Add\" />\n            </button>\n          </li>\n        </ul>\n\n      </ReactModal>\n    );\n  }\n}\n\nexport default AddNewCounterModal;\n","import React from 'react';\nimport ReactModal from 'react-modal';\nimport ShortcutCaptureForm from './shortcut-capture-form';\nimport CounterData from './counter-data';\nimport Shortcut from './shortcut';\nimport ShortcutCollection from './shortcut-collection';\nimport icons from './icons';\n\nclass EditCountersModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: '0',\n      initial: '0',\n      min: '0',\n      max: `${Number.MAX_SAFE_INTEGER}`,\n      step: '1',\n      countUpShortcut: Shortcut.NONE,\n      countDownShortcut: Shortcut.NONE,\n    };\n  }\n\n  handleModalAfterOpen = () => {\n    if (!this.props.names || !this.props.names.length) {\n      this.props.onCancel();\n      return;\n    }\n\n    this.setState((state, props) => {\n      const checkedCount = props.names.length;\n      const firstCounter = new CounterData(props.counters[props.names[0]]);\n      for (let index = 1; index < checkedCount; index += 1) {\n        const currentCounter = props.counters[props.names[index]];\n        for (const counterProp of CounterData.MANIPULATOR_PROPS) {\n          if (firstCounter[counterProp] !== currentCounter[counterProp]) {\n            firstCounter[counterProp] = '';\n          }\n        }\n        firstCounter.shortcuts = firstCounter.shortcuts.getDifferenceMarked(currentCounter.shortcuts);\n      }\n\n      const { value, initial, min, max, step, shortcuts } = firstCounter;\n      return {\n        value, initial, min, max, step,\n        countUpShortcut: shortcuts.countUp,\n        countDownShortcut: shortcuts.countDown,\n      };\n    });\n  }\n\n  handleValueChange = (event) => {\n    this.setState({\n      value: event.target.value,\n    });\n  }\n\n  handleInitialChange = (event) => {\n    this.setState({\n      initial: event.target.value,\n    });\n  }\n\n  handleMinChange = (event) => {\n    this.setState({\n      min: event.target.value,\n    });\n  }\n\n  handleMaxChange = (event) => {\n    this.setState({\n      max: event.target.value,\n    });\n  }\n\n  handleStepChange = (event) => {\n    this.setState({\n      step: event.target.value,\n    });\n  }\n\n  handleCountUpShortcutChange = (shortcut) => {\n    this.setState({\n      countUpShortcut: shortcut,\n    });\n  }\n\n  handleCountDownShortcutChange = (shortcut) => {\n    this.setState({\n      countDownShortcut: shortcut,\n    });\n  }\n\n  handleSubmitClick = (event) => {\n    event.preventDefault();\n\n    const { value, initial, min, max, step, countUpShortcut, countDownShortcut } = this.state;\n    const submitArgument = {\n      value, initial, min, max, step,\n      shortcuts: new ShortcutCollection({\n        countUp: countUpShortcut,\n        countDown: countDownShortcut,\n      }),\n    };\n\n    let isAllSafeInteger = true;\n    for (const counterProp of CounterData.MANIPULATOR_PROPS) {\n      if (submitArgument[counterProp] === '') {\n        delete submitArgument[counterProp];\n      } else {\n        submitArgument[counterProp] = Number.parseInt(submitArgument[counterProp], 10);\n        if (!Number.isSafeInteger(submitArgument[counterProp])) {\n          isAllSafeInteger = false;\n        }\n      }\n    }\n\n    if (!isAllSafeInteger) {\n      return;\n    } else if (submitArgument.step === 0 || (submitArgument.step && submitArgument.step < 0)) {\n      return;\n    }\n    // TODO - re-implement min/max validation check (be careful of empty values)\n\n    this.props.onSubmit({ names: this.props.names, ...submitArgument });\n  }\n\n  handleCancelClick = (event) => {\n    event.preventDefault();\n    this.props.onCancel();\n  }\n\n  render = () => {\n    // FIXME - Add reset buttons\n    return (\n      <ReactModal\n        isOpen={this.props.isOpen}\n        onAfterOpen={this.handleModalAfterOpen}\n        onRequestClose={this.props.onCancel}\n        contentLabel=\"Edit Counters\"\n        shouldCloseOnOverlayClick={true}\n        shouldCloseOnEsc={true}\n        className=\"modal\"\n        overlayClassName=\"modal-overlay\"\n      >\n        <h1>\n          Edit Counters\n        </h1>\n\n        <hr />\n\n        <ul>\n          <li>\n            <label>\n              Name\n            </label>\n            <p className=\"modal-counter-names\">\n              {this.props.names.join(', ')}\n            </p>\n          </li>\n          <li>\n            <label>\n              Value (Integer)\n            </label>\n            <input\n              type=\"number\"\n              inputMode=\"numeric\"\n              pattern=\"-?\\\\d*\"\n              value={this.state.value}\n              onChange={this.handleValueChange}\n            />\n          </li>\n          <li>\n            <label>\n              Initial value (Integer)\n            </label>\n            <input\n              type=\"number\"\n              inputMode=\"numeric\"\n              pattern=\"-?\\\\d*\"\n              value={this.state.initial}\n              onChange={this.handleInitialChange}\n            />\n          </li>\n          <li>\n            <label>\n              Minimum value (Integer)\n            </label>\n            <input\n              type=\"number\"\n              inputMode=\"numeric\"\n              pattern=\"-?\\\\d*\"\n              value={this.state.min}\n              onChange={this.handleMinChange}\n            />\n          </li>\n          <li>\n            <label>\n              Maximum value (Integer)\n            </label>\n            <input\n              type=\"number\"\n              inputMode=\"numeric\"\n              pattern=\"-?\\\\d*\"\n              value={this.state.max}\n              onChange={this.handleMaxChange}\n            />\n          </li>\n          <li>\n            <label>\n              Count step (Positive integer)\n            </label>\n            <input\n              type=\"number\"\n              inputMode=\"numeric\"\n              pattern=\"[1-9]\\\\d*\"\n              value={this.state.step}\n              onChange={this.handleStepChange}\n            />\n          </li>\n        </ul>\n\n        <hr />\n\n        <h2>Shortcuts</h2>\n        <ul>\n          <li>\n            <label>\n              Count Up\n            </label>\n            <ShortcutCaptureForm\n              shortcut={this.state.countUpShortcut}\n              onChange={this.handleCountUpShortcutChange}\n            />\n          </li>\n          <li>\n            <label>\n              Count Down\n            </label>\n            <ShortcutCaptureForm\n              shortcut={this.state.countDownShortcut}\n              onChange={this.handleCountDownShortcutChange}\n            />\n          </li>\n        </ul>\n\n        <hr />\n\n        <ul className=\"modal-actions\">\n          <li>\n            <button\n              type=\"reset\"\n              onClick={this.handleCancelClick}\n              className=\"action-button button-negative\"\n            >\n              <img src={icons.close} alt=\"Cancel\" />\n            </button>\n          </li>\n          <li>\n            <button\n              type=\"button\"\n              onClick={this.handleSubmitClick}\n              className=\"action-button button-positive\"\n            >\n              <img src={icons.check} alt=\"Apply\" />\n            </button>\n          </li>\n        </ul>\n\n      </ReactModal>\n    );\n  }\n}\n\nexport default EditCountersModal;\n","import CounterData from './counter-data';\nimport Shortcut from './shortcut';\nimport ShortcutCollection from './shortcut-collection';\n\n\nconst ITEM_NAMES = {\n  COUNTER_ORDER: 'counterOrder',\n  COUNTER_PREFIX: 'counter_',\n  _STORAGE_TEST: '__storage_test__',\n};\n\n\nconst getCounterItemName = (name) => {\n  return ITEM_NAMES.COUNTER_PREFIX + name;\n};\n\n\nexport const available = (() => {\n  try {\n    localStorage.setItem(ITEM_NAMES._STORAGE_TEST, ITEM_NAMES._STORAGE_TEST);\n    localStorage.removeItem(ITEM_NAMES._STORAGE_TEST);\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\n\nexport const initialize = () => {\n  if (!available) {\n    return null;\n  }\n\n  clear();\n  const INITIAL_COUNTER_NAME = 'Sample Counter';\n  setCounterOrder([INITIAL_COUNTER_NAME]);\n  setCounterData(new CounterData({ name: INITIAL_COUNTER_NAME }));\n  return true;\n};\n\n\nexport const getCounterOrder = (isSecondTrial) => {\n  if (!available) {\n    return null;\n  }\n\n  const counterOrderString = localStorage.getItem(ITEM_NAMES.COUNTER_ORDER);\n  const counterOrder = JSON.parse(counterOrderString);\n\n  if (counterOrder && counterOrder.constructor === Array) {\n    return counterOrder;\n  }\n\n  if (isSecondTrial) {\n    return null;\n  }\n  initialize();\n  return getCounterOrder(true);\n};\n\nexport const setCounterOrder = (counterOrder) => {\n  if (!available) {\n    return null;\n  }\n\n  localStorage.setItem(ITEM_NAMES.COUNTER_ORDER, JSON.stringify(counterOrder));\n  return true;\n};\n\n\nexport const getCounterData = (name) => {\n  if (!available) {\n    return null;\n  }\n\n  const counterDataString = localStorage.getItem(getCounterItemName(name));\n  const counterData = JSON.parse(counterDataString);\n  if (!counterData) {\n    return null;\n  }\n\n  if (counterData.shortcuts) {\n    for (const shortcutName of ShortcutCollection.SHORTCUT_NAMES) {\n      counterData.shortcuts[shortcutName] = (\n        counterData.shortcuts[shortcutName]\n        ? new Shortcut(counterData.shortcuts[shortcutName])\n        : Shortcut.NONE\n      );\n    }\n    counterData.shortcuts = new ShortcutCollection(counterData.shortcuts);\n  }\n\n  return new CounterData(counterData);\n};\n\nconst STORED_COUNTER_PROPERTIES = ['name', 'value', 'initial', 'min', 'max', 'step', 'shortcuts'];\n\nexport const setCounterData = (counterData) => {\n  if (!available) {\n    return null;\n  }\n\n  const storedCounterData = {};\n  for (const property of STORED_COUNTER_PROPERTIES) {\n    storedCounterData[property] = counterData[property];\n  }\n\n  localStorage.setItem(getCounterItemName(counterData.name), JSON.stringify(storedCounterData));\n  return true;\n};\n\n\nexport const removeCounterData = (name) => {\n  if (!available) {\n    return null;\n  }\n\n  localStorage.removeItem(getCounterItemName(name));\n  return true;\n};\n\n\nexport const clear = () => {\n  if (!available) {\n    return null;\n  }\n\n  localStorage.clear();\n  return true;\n};\n\n\nconst localStorageManager = {\n  available,\n  initialize,\n  getCounterOrder, setCounterOrder,\n  getCounterData, setCounterData, removeCounterData,\n  clear,\n};\nexport default localStorageManager;\n","import React from 'react';\nimport ReactModal from 'react-modal';\nimport classNames from 'classnames';\nimport Counter from './counter';\nimport AddNewCounterModal from './add-new-counter-modal';\nimport EditCountersModal from './edit-counters-modal';\nimport { GlobalEditModeContext } from './contexts';\nimport CounterAction from './counter-action';\nimport CounterData from './counter-data';\nimport Shortcut from './shortcut';\nimport ShortcutCollection from './shortcut-collection';\nimport localStorageManager from './local-storage-manager';\nimport icons from './icons';\nimport utils from './utils';\n\nReactModal.setAppElement('#root');\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      counterOrder: [],\n      counterIndexesByName: {},\n      counters: {},\n      counterActionsByShortcutId: {},\n      checkedCounters: [],\n      singleCounterToEdit: null,\n      modal: '',\n      isEditModeEnabled: false,\n    };\n  }\n\n  componentDidMount = () => {\n    document.addEventListener('keydown', this.handleDocumentKeyDown);\n\n    this.loadCounters();\n  }\n\n  componentWillUnmount = () => {\n    document.removeEventListener('keydown', this.handleDocumentKeyDown);\n  }\n\n  handleDocumentKeyDown = (nativeEvent) => {\n    if (utils.isTextForm(nativeEvent.target) || this.state.isEditModeEnabled || this.state.modal) {\n      return;\n    }\n\n    const { key, code, shiftKey, ctrlKey, altKey, metaKey } = nativeEvent;\n    const isInvalidKey = (\n      ctrlKey || altKey || metaKey\n      || (code && utils.includes(code.toLowerCase(), 'shift'))\n      || utils.includes(key.toLowerCase(), 'shift')\n    );\n    if (isInvalidKey) {\n      return;\n    }\n\n    const shortcutId = String(new Shortcut({ code, shiftKey, keyName: key }));\n    const counterActions = this.state.counterActionsByShortcutId[shortcutId];\n    if (!counterActions || !counterActions.length) {\n      return;\n    }\n\n    const counters = counterActions.map((action) => action.execute({ ...this.state.counters[action.target] }));\n    this.updateCounters(counters);\n  }\n\n  loadCounters = () => {\n    for (const name of localStorageManager.getCounterOrder()) {\n      const counter = localStorageManager.getCounterData(name);\n      if (counter) {\n        this.appendCounter(counter);\n      }\n    }\n  }\n\n  getUpdatedCounterActions = (counterActionsByShortcutId, { newCounterData, oldCounterData }) => {\n    const shortcutActions = {\n      countUp: CounterAction.PRESETS.GET_COUNTED_UP,\n      countDown: CounterAction.PRESETS.GET_COUNTED_DOWN,\n    };\n    const oldShortcuts = oldCounterData && oldCounterData.shortcuts;\n    const newShortcuts = newCounterData.shortcuts;\n\n    counterActionsByShortcutId = { ...counterActionsByShortcutId };\n    for (const shortcutName of ShortcutCollection.SHORTCUT_NAMES) {\n      const oldShortcutId = oldShortcuts && String(oldShortcuts[shortcutName]);\n      const newShortcutId = String(newShortcuts[shortcutName]);\n      if (oldShortcutId && newShortcutId && oldShortcutId === newShortcutId) {\n        continue;\n      }\n\n      const shouldOldShortcutBeRemoved = (\n        oldShortcutId\n        && newShortcuts[shortcutName] !== Shortcut.JUMBLED\n        && newShortcuts[shortcutName] !== Shortcut.NO_CHANGE\n      );\n      if (shouldOldShortcutBeRemoved) {\n        const counterActionsForShortcut = counterActionsByShortcutId[oldShortcutId];\n        counterActionsByShortcutId[oldShortcutId] = counterActionsForShortcut.filter((action) => (\n          action.target !== oldCounterData.name\n          || action.execute !== shortcutActions[shortcutName]\n        ));\n        if (counterActionsByShortcutId[oldShortcutId].length === 0) {\n          delete counterActionsByShortcutId[oldShortcutId];\n        }\n      }\n\n      if (newShortcutId) {\n        const counterActionsForShortcut =\n          utils.initializeOrGetArrayProperty(counterActionsByShortcutId, newShortcutId).slice();\n        counterActionsForShortcut.push(new CounterAction(newCounterData.name, shortcutActions[shortcutName]));\n        counterActionsByShortcutId[newShortcutId] = counterActionsForShortcut;\n      }\n    }\n\n    return counterActionsByShortcutId;\n  }\n\n  getNewCounter = (counterData) => {\n    return (\n      <Counter\n        {...counterData}\n        key={counterData.name}\n      />\n    );\n  }\n\n  appendCounter = (counterData) => {\n    this.setState((state) => {\n      const { name } = counterData;\n      const correctedShortcuts = new ShortcutCollection(counterData.shortcuts);\n      for (const shortcutName of ShortcutCollection.SHORTCUT_NAMES) {\n        if (Shortcut.NONE.equals(correctedShortcuts[shortcutName])) {\n          correctedShortcuts[shortcutName] = Shortcut.NONE;\n        }\n      }\n      const onChange = (newCounterData) => {\n        this.updateCounters([newCounterData]);\n      };\n      counterData = new CounterData({\n        ...counterData,\n        shortcuts: correctedShortcuts,\n        onChange,\n        onEditClick: this.handleSingleCounterEditClick,\n      });\n\n      const counters = {\n        ...state.counters,\n        [name]: counterData,\n      };\n\n      const counterOrder = state.counterOrder.slice();\n      const counterIndexesByName = {\n        ...state.counterIndexesByName,\n        [name]: counterOrder.length,\n      };\n      counterOrder.push(name);\n\n      const counterActionsByShortcutId = this.getUpdatedCounterActions(\n        state.counterActionsByShortcutId, { newCounterData: counterData }\n      );\n\n      localStorageManager.setCounterOrder(counterOrder);\n      localStorageManager.setCounterData(counterData);\n\n      return {\n        counterOrder,\n        counterIndexesByName,\n        counters,\n        counterActionsByShortcutId,\n      };\n    });\n  }\n\n  updateCounters = (updatedCounters) => {\n    this.setState((state) => {\n      const counters = { ...state.counters };\n\n      let counterActionsByShortcutId = { ...state.counterActionsByShortcutId };\n      for (let newCounterData of updatedCounters) {\n        const { name } = newCounterData;\n        const targetComponentIndex = state.counterIndexesByName[name];\n        if (typeof targetComponentIndex !== 'number') {\n          return;\n        }\n\n        if (newCounterData.shortcuts) {\n          counterActionsByShortcutId = this.getUpdatedCounterActions(\n            counterActionsByShortcutId, { newCounterData, oldCounterData: counters[name] }\n          );\n\n          const correctedShortcuts = {};\n          for (const shortcutName of ShortcutCollection.SHORTCUT_NAMES) {\n            const providedShortcut = newCounterData.shortcuts[shortcutName];\n            const hasChange = String(providedShortcut) || providedShortcut === Shortcut.NONE;\n            correctedShortcuts[shortcutName] = hasChange ? providedShortcut : counters[name].shortcuts[shortcutName];\n          }\n          newCounterData = new CounterData({\n            ...counters[name],\n            ...newCounterData,\n            shortcuts: new ShortcutCollection(correctedShortcuts),\n          });\n        }\n\n        counters[name] = {\n          ...counters[name],\n          ...newCounterData,\n        };\n\n        localStorageManager.setCounterData(counters[name]);\n      }\n\n      return { counters, counterActionsByShortcutId };\n    }, this.updateCheckedCountersState);\n  }\n\n  updateCheckedCountersState = () => {\n    this.setState((state) => {\n      const checkedCounters = state.counterOrder.filter((name) => state.counters[name].checked);\n      return { checkedCounters };\n    });\n  }\n\n  checkOrUncheckAll = (checked) => {\n    this.setState((state) => {\n      const counters = { ...state.counters };\n\n      for (const name of state.counterOrder) {\n        if (counters[name].checked !== checked) {\n          counters[name] = {\n            ...counters[name],\n            checked,\n          };\n        }\n      }\n\n      return { counters };\n    }, this.updateCheckedCountersState);\n  }\n\n  removeCheckedCounters = () => {\n    if (this.state.checkedCounters.length === 0) {\n      return;\n    }\n\n    this.setState((state) => {\n      const counterIndexesByName = { ...state.counterIndexesByName };\n      const counters = { ...state.counters };\n      let counterActionsByShortcutId = { ...state.counterActionsByShortcutId };\n\n      let removed = 0;\n      const counterOrder = state.counterOrder.filter((name, index) => {\n        const checked = counters[name].checked;\n        if (checked) {\n          const newCounterData = new CounterData({ ...counters[name], shortcuts: ShortcutCollection.EMPTY });\n          counterActionsByShortcutId = this.getUpdatedCounterActions(\n            counterActionsByShortcutId, { newCounterData, oldCounterData: counters[name] }\n          );\n\n          delete counterIndexesByName[name];\n          delete counters[name];\n          localStorageManager.removeCounterData(name);\n          removed += 1;\n        } else {\n          counterIndexesByName[name] = index - removed;\n        }\n        return !checked;\n      });\n\n      localStorageManager.setCounterOrder(counterOrder);\n\n      return {\n        counterOrder,\n        counterIndexesByName,\n        counters,\n        counterActionsByShortcutId,\n        isEditModeEnabled: false,\n      }\n    }, this.updateCheckedCountersState);\n  }\n\n  openOrCloseModal = (willOpen, modal) => {\n    this.setState({ modal: willOpen ? modal : '' });\n  }\n\n  isEveryCounterChecked = () => {\n    return this.state.checkedCounters.length === this.state.counterOrder.length;\n  }\n\n  handleResetClick = (event) => {\n    event.preventDefault();\n    if (this.state.checkedCounters.length === 0) {\n      return;\n    }\n\n    const countersToUpdate = this.state.checkedCounters.map((name) => ({\n      name,\n      checked: false,\n      value: this.state.counters[name].initial,\n    }));\n    this.updateCounters(countersToUpdate);\n    this.setState({ isEditModeEnabled: false });\n  }\n\n  handleRemoveClick = (event) => {\n    event.preventDefault();\n    this.removeCheckedCounters();\n  }\n\n  handleClearClick = (event) => {\n    event.preventDefault();\n    if (window.confirm('All counters will be removed if you click ‘OK’ button.')) {\n      localStorageManager.initialize();\n      window.location.reload();\n    }\n  }\n\n  handleNewCounterClick = (event) => {\n    event.preventDefault();\n    this.openOrCloseModal(true, 'AddNewCounterModal');\n  }\n\n  handleNewCounterModalSubmit = (param) => {\n    // TODO - Validate param\n    // TODO - if `value` is not a number, assign `initial` to `value`\n    const newCounter = new CounterData({\n      ...param,\n      value: param.initial,\n    });\n    this.appendCounter(newCounter);\n\n    this.openOrCloseModal(false);\n  }\n\n  handleEditCountersClick = (event) => {\n    event.preventDefault();\n    if (this.state.checkedCounters.length > 0) {\n      this.openOrCloseModal(true, 'EditCountersModal');\n    }\n  }\n\n  handleEditCountersModalSubmit = (param) => {\n    // TODO - Validate param\n    // TODO - if `value` is not a number, assign `initial` to `value`\n    const { counters } = this.state;\n\n    const overwritingShortcuts = {};\n    for (const shortcutName of ShortcutCollection.SHORTCUT_NAMES) {\n      if (param.shortcuts[shortcutName] !== Shortcut.JUMBLED) {\n        overwritingShortcuts[shortcutName] = param.shortcuts[shortcutName];\n      }\n    }\n\n    const newCounters = param.names.map((name) => {\n      const {\n        value = counters[name].value,\n        initial = counters[name].initial,\n        min = counters[name].min,\n        max = counters[name].max,\n        step = counters[name].step,\n        shortcuts = counters[name].shortcuts,\n      } = param;\n      return {\n        name, value, initial, min, max, step,\n        shortcuts: new ShortcutCollection({ ...shortcuts, ...overwritingShortcuts }),\n      };\n    });\n    this.updateCounters(newCounters);\n\n    this.openOrCloseModal(false);\n    if (!this.state.singleCounterToEdit) {\n      this.checkOrUncheckAll(false);\n    }\n    this.setState((state) => ({\n      singleCounterToEdit: null,\n      isEditModeEnabled: !!state.singleCounterToEdit,\n    }));\n  }\n\n  handleModalCancel = () => {\n    this.openOrCloseModal(false);\n    this.setState({ singleCounterToEdit: null });\n  }\n\n  handleEditCounterListClick = (event) => {\n    event.preventDefault();\n    this.checkOrUncheckAll(false);\n    this.setState((state) => {\n      return {\n        isEditModeEnabled: !state.isEditModeEnabled,\n      };\n    });\n  }\n\n  handleSelectAllClick = (event) => {\n    event.preventDefault();\n    this.checkOrUncheckAll(!this.isEveryCounterChecked());\n  }\n\n  handleSingleCounterEditClick = (name) => {\n    this.setState((state) => ({\n      singleCounterToEdit: state.counters[name],\n    }), () => {\n      this.openOrCloseModal(true, 'EditCountersModal');\n    });\n  }\n\n  render = () => {\n    const isEditModeEnabled = this.state.isEditModeEnabled;\n    const classes = {\n      headerItem: {\n        normalOnly: classNames('header-item', { 'force-hidden': isEditModeEnabled }),\n        editModeOnly: classNames('header-item', { 'force-hidden': !isEditModeEnabled }),\n      },\n      addNewCounterButton: classNames('button-add', 'button-positive', { 'invisible': isEditModeEnabled }),\n    };\n\n    const counterComponents = this.state.counterOrder.slice().map((name) => {\n      return this.getNewCounter(this.state.counters[name]);\n    });\n    const singleCounterToEdit = this.state.singleCounterToEdit;\n    const editCountersModalProps = {\n      counters: (\n        singleCounterToEdit\n        ? { [singleCounterToEdit.name]: singleCounterToEdit }\n        : this.state.counters\n      ),\n      names: singleCounterToEdit ? [singleCounterToEdit.name] : this.state.checkedCounters,\n    };\n\n    return (\n      <div className=\"App\">\n\n        <div className=\"header-container\">\n          <header className=\"header\">\n            <ul className=\"header-item-group group-left\">\n              <li className={classes.headerItem.normalOnly}>\n                <h1 className=\"app-title\">\n                  MultiCounter\n                </h1>\n              </li>\n\n              <li className={classes.headerItem.editModeOnly}>\n                <button\n                  type=\"button\"\n                  onClick={this.handleSelectAllClick}\n                  className=\"button-with-icon-text\"\n                >\n                  <img src={icons.checkAll} alt=\"\" />\n                  <span>Select All</span>\n                </button>\n              </li>\n\n              <li className={classes.headerItem.editModeOnly}>\n                <button\n                  type=\"button\"\n                  onClick={this.handleEditCountersClick}\n                  className=\"button-with-icon-text\"\n                >\n                  <img src={icons.edit} alt=\"\" />\n                  <span>Edit</span>\n                </button>\n              </li>\n\n              <li className={classes.headerItem.editModeOnly}>\n                <button\n                  type=\"button\"\n                  onClick={this.handleResetClick}\n                  className=\"button-with-icon-text button-negative\"\n                >\n                  <img src={icons.reset} alt=\"\" />\n                  <span>Reset</span>\n                </button>\n              </li>\n\n              <li className={classes.headerItem.editModeOnly}>\n                <button\n                  type=\"button\"\n                  onClick={this.handleRemoveClick}\n                  className=\"button-with-icon-text button-negative\"\n                >\n                  <img src={icons.remove} alt=\"\" />\n                  <span>Remove</span>\n                </button>\n              </li>\n\n              <li className={classes.headerItem.editModeOnly}>\n                <button\n                  type=\"button\"\n                  onClick={this.handleClearClick}\n                  className=\"button-with-icon-text button-negative\"\n                >\n                  <img src={icons.clear} alt=\"\" />\n                  <span>Clear All</span>\n                </button>\n              </li>\n            </ul>\n\n            <ul className=\"header-item-group group-right\">\n              <li className=\"header-item\">\n                <button\n                  type=\"button\"\n                  onClick={this.handleEditCounterListClick}\n                  className=\"button-with-icon\"\n                >\n                  {\n                    isEditModeEnabled\n                    ? <img src={icons.close} alt=\"Exit Edit Mode\" />\n                    : <img src={icons.menu} alt=\"Edit Counter List\" />\n                  }\n                </button>\n              </li>\n            </ul>\n          </header>\n        </div>\n\n        <div className=\"main-container\">\n          <main className=\"main\">\n            <GlobalEditModeContext.Provider\n              value={isEditModeEnabled}\n            >\n              {counterComponents}\n            </GlobalEditModeContext.Provider>\n\n            <div className=\"main-additional\">\n              <button\n                type=\"button\"\n                onClick={this.handleNewCounterClick}\n                className={classes.addNewCounterButton}\n              >\n                <img src={icons.add} alt=\"Add New Counter\" />\n              </button>\n            </div>\n          </main>\n        </div>\n\n        <AddNewCounterModal\n          existingNames={this.state.counterOrder}\n          isOpen={this.state.modal === 'AddNewCounterModal'}\n          onSubmit={this.handleNewCounterModalSubmit}\n          onCancel={this.handleModalCancel}\n        />\n\n        <EditCountersModal\n          counters={editCountersModalProps.counters}\n          names={editCountersModalProps.names}\n          isOpen={this.state.modal === 'EditCountersModal'}\n          onSubmit={this.handleEditCountersModalSubmit}\n          onCancel={this.handleModalCancel}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}